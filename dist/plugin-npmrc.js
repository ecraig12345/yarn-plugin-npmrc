/* eslint-disable */
//prettier-ignore
module.exports = {
name: "@yarnpkg/plugin-npmrc",
factory: function (require) {
"use strict";var plugin=(()=>{var co=Object.create;var Ut=Object.defineProperty;var lo=Object.getOwnPropertyDescriptor;var fo=Object.getOwnPropertyNames;var uo=Object.getPrototypeOf,po=Object.prototype.hasOwnProperty;var A=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')});var Le=(i,t)=>()=>(i&&(t=i(i=0)),t);var v=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),$e=(i,t)=>{for(var e in t)Ut(i,e,{get:t[e],enumerable:!0})},oi=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of fo(t))!po.call(i,n)&&n!==e&&Ut(i,n,{get:()=>t[n],enumerable:!(s=lo(t,n))||s.enumerable});return i};var We=(i,t,e)=>(e=i!=null?co(uo(i)):{},oi(t||!i||!i.__esModule?Ut(e,"default",{value:i,enumerable:!0}):e,i)),go=i=>oi(Ut({},"__esModule",{value:!0}),i);var hi=v(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.walkUp=void 0;var ai=A("path"),mo=function*(i){for(i=(0,ai.resolve)(i);i;){yield i;let t=(0,ai.dirname)(i);if(t===i)break;i=t}};zt.walkUp=mo});var di=v((Jc,ui)=>{var{hasOwnProperty:Ie}=Object.prototype,Be=(i,t={})=>{typeof t=="string"&&(t={section:t}),t.align=t.align===!0,t.newline=t.newline===!0,t.sort=t.sort===!0,t.whitespace=t.whitespace===!0||t.align===!0,t.platform=t.platform||typeof process<"u"&&process.platform,t.bracketedArray=t.bracketedArray!==!1;let e=t.platform==="win32"?`\r
`:`
`,s=t.whitespace?" = ":"=",n=[],r=t.sort?Object.keys(i).sort():Object.keys(i),o=0;t.align&&(o=Q(r.filter(c=>i[c]===null||Array.isArray(i[c])||typeof i[c]!="object").map(c=>Array.isArray(i[c])?`${c}[]`:c).concat([""]).reduce((c,l)=>Q(c).length>=Q(l).length?c:l)).length);let a="",h=t.bracketedArray?"[]":"";for(let c of r){let l=i[c];if(l&&Array.isArray(l))for(let f of l)a+=Q(`${c}${h}`).padEnd(o," ")+s+Q(f)+e;else l&&typeof l=="object"?n.push(c):a+=Q(c).padEnd(o," ")+s+Q(l)+e}t.section&&a.length&&(a="["+Q(t.section)+"]"+(t.newline?e+e:e)+a);for(let c of n){let l=li(c,".").join("\\."),f=(t.section?t.section+".":"")+l,d=Be(i[c],{...t,section:f});a.length&&d.length&&(a+=e),a+=d}return a};function li(i,t){var e=0,s=0,n=0,r=[];do if(n=i.indexOf(t,e),n!==-1){if(e=n+t.length,n>0&&i[n-1]==="\\")continue;r.push(i.slice(s,n)),s=n+t.length}while(n!==-1);return r.push(i.slice(s)),r}var ci=(i,t={})=>{t.bracketedArray=t.bracketedArray!==!1;let e=Object.create(null),s=e,n=null,r=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,o=i.split(/[\r\n]+/g),a={};for(let c of o){if(!c||c.match(/^\s*[;#]/)||c.match(/^\s*$/))continue;let l=c.match(r);if(!l)continue;if(l[1]!==void 0){if(n=Ht(l[1]),n==="__proto__"){s=Object.create(null);continue}s=e[n]=e[n]||Object.create(null);continue}let f=Ht(l[2]),d;t.bracketedArray?d=f.length>2&&f.slice(-2)==="[]":(a[f]=(a?.[f]||0)+1,d=a[f]>1);let u=d&&f.endsWith("[]")?f.slice(0,-2):f;if(u==="__proto__")continue;let m=l[3]?Ht(l[4]):!0,p=m==="true"||m==="false"||m==="null"?JSON.parse(m):m;d&&(Ie.call(s,u)?Array.isArray(s[u])||(s[u]=[s[u]]):s[u]=[]),Array.isArray(s[u])?s[u].push(p):s[u]=p}let h=[];for(let c of Object.keys(e)){if(!Ie.call(e,c)||typeof e[c]!="object"||Array.isArray(e[c]))continue;let l=li(c,".");s=e;let f=l.pop(),d=f.replace(/\\\./g,".");for(let u of l)u!=="__proto__"&&((!Ie.call(s,u)||typeof s[u]!="object")&&(s[u]=Object.create(null)),s=s[u]);s===e&&d===f||(s[d]=e[c],h.push(c))}for(let c of h)delete e[c];return e},fi=i=>i.startsWith('"')&&i.endsWith('"')||i.startsWith("'")&&i.endsWith("'"),Q=i=>typeof i!="string"||i.match(/[=\r\n]/)||i.match(/^\[/)||i.length>1&&fi(i)||i!==i.trim()?JSON.stringify(i):i.split(";").join("\\;").split("#").join("\\#"),Ht=i=>{if(i=(i||"").trim(),fi(i)){i.charAt(0)==="'"&&(i=i.slice(1,-1));try{i=JSON.parse(i)}catch{}}else{let t=!1,e="";for(let s=0,n=i.length;s<n;s++){let r=i.charAt(s);if(t)"\\;#".indexOf(r)!==-1?e+=r:e+="\\"+r,t=!1;else{if(";#".indexOf(r)!==-1)break;r==="\\"?t=!0:e+=r}}return t&&(e+="\\"),e.trim()}return i};ui.exports={parse:ci,decode:ci,stringify:Be,encode:Be,safe:Q,unsafe:Ht}});var gi=v((Yc,pi)=>{pi.exports=wo;function wo(...i){let t=i;i.length===1&&(Array.isArray(i[0])||typeof i[0]=="string")&&(t=[].concat(i[0]));for(let n=0,r=t.length;n<r;n++)t[n]=typeof t[n]=="string"?t[n]:String(t[n]);t=t.sort(yo);let e={},s="";for(let n=0,r=t.length;n<r;n++){let o=t[n],a=t[n+1]||"",h=!0,c=!0;if(o===a)continue;let l=0,f=o.length;for(;l<f;l++){let d=o.charAt(l);if(h=h&&d===a.charAt(l),c=c&&d===s.charAt(l),!h&&!c){l++;break}}if(s=o,l===f){e[o]=o;continue}for(let d=o.slice(0,l);l<=f;l++)e[d]=o,d+=o.charAt(l)}return e}function yo(i,t){return i===t?0:i>t?1:-1}});var qe=v((Xc,mi)=>{mi.exports=process.env.DEBUG_NOPT||process.env.NOPT_DEBUG?(...i)=>console.error(...i):()=>{}});var Ue=v((Zc,Si)=>{var wi=A("url"),Ge=A("path"),yi=A("stream").Stream,bo=A("os"),bi=qe();function So(i,t,e){i[t]=String(e)}function Eo(i,t,e){if(e===!0)return!1;if(e===null)return!0;e=String(e);let n=process.platform==="win32"?/^~(\/|\\)/:/^~\//,r=bo.homedir();return r&&e.match(n)?i[t]=Ge.resolve(r,e.slice(2)):i[t]=Ge.resolve(e),!0}function vo(i,t,e){if(bi("validate Number %j %j %j",t,e,isNaN(e)),isNaN(e))return!1;i[t]=+e}function _o(i,t,e){let s=Date.parse(e);if(bi("validate Date %j %j %j",t,e,s),isNaN(s))return!1;i[t]=new Date(e)}function Oo(i,t,e){typeof e=="string"?isNaN(e)?e==="null"||e==="false"?e=!1:e=!0:e=!!+e:e=!!e,i[t]=e}function xo(i,t,e){if(e=wi.parse(String(e)),!e.host)return!1;i[t]=e.href}function Ao(i,t,e){if(!(e instanceof yi))return!1;i[t]=e}Si.exports={String:{type:String,validate:So},Boolean:{type:Boolean,validate:Oo},url:{type:wi,validate:xo},Number:{type:Number,validate:vo},path:{type:Ge,validate:Eo},Stream:{type:yi,validate:Ao},Date:{type:Date,validate:_o},Array:{type:Array}}});var Ti=v((Qc,ki)=>{var Kt=gi(),C=qe(),ko=Ue(),vi=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),_i=(i,{types:t,dynamicTypes:e})=>{let s=vi(t,i),n=t[i];if(!s&&typeof e=="function"){let r=e(i);r!==void 0&&(n=r,s=!0)}return[s,n]},ut=(i,t)=>t&&i===t,J=(i,t)=>t&&i.indexOf(t)!==-1,To=(i,t)=>t&&!J(i,t);function Po(i,{types:t,shorthands:e,typeDefs:s,invalidHandler:n,unknownHandler:r,abbrevHandler:o,typeDefault:a,dynamicTypes:h}={}){C(t,e,i,s);let c={},l={remain:[],cooked:i,original:i.slice(0)};return xi(i,c,l.remain,{typeDefs:s,types:t,dynamicTypes:h,shorthands:e,unknownHandler:r,abbrevHandler:o}),Oi(c,{types:t,dynamicTypes:h,typeDefs:s,invalidHandler:n,typeDefault:a}),c.argv=l,Object.defineProperty(c.argv,"toString",{value:function(){return this.original.map(JSON.stringify).join(" ")},enumerable:!1}),c}function Oi(i,{types:t={},typeDefs:e={},dynamicTypes:s,invalidHandler:n,typeDefault:r}={}){let o=e.String?.type,a=e.Number?.type,h=e.Array?.type,c=e.Boolean?.type,l=e.Date?.type,f=typeof r<"u";f||(r=[!1,!0,null],o&&r.push(o),h&&r.push(h));let d={};Object.keys(i).forEach(u=>{if(u==="argv")return;let m=i[u];C("val=%j",m);let p=Array.isArray(m),[g,w]=_i(u,{types:t,dynamicTypes:s}),S=w;p||(m=[m]),S||(S=r),ut(S,h)&&(S=r.concat(h)),Array.isArray(S)||(S=[S]),C("val=%j",m),C("types=",S),m=m.map(y=>{if(typeof y=="string"&&(C("string %j",y),y=y.trim(),y==="null"&&~S.indexOf(null)||y==="true"&&(~S.indexOf(!0)||J(S,c))||y==="false"&&(~S.indexOf(!1)||J(S,c))?(y=JSON.parse(y),C("jsonable %j",y)):J(S,a)&&!isNaN(y)?(C("convert to number",y),y=+y):J(S,l)&&!isNaN(Date.parse(y))&&(C("convert to date",y),y=new Date(y))),!g){if(!f)return y;w=r}y===!1&&~S.indexOf(null)&&!(~S.indexOf(!1)||J(S,c))&&(y=null);let E={};return E[u]=y,C("prevalidated val",E,y,w),ze(E,u,y,w,{typeDefs:e})?(C("validated v",E,y,w),E[u]):(n?n(u,y,w,i):n!==!1&&C("invalid: "+u+"="+y,w),d)}).filter(y=>y!==d),!m.length&&To(S,h)?(C("VAL HAS NO LENGTH, DELETE IT",m,u,S.indexOf(h)),delete i[u]):p?(C(p,i[u],m),i[u]=m):i[u]=m[0],C("k=%s val=%j",u,m,i[u])})}function ze(i,t,e,s,{typeDefs:n}={}){let r=n?.Array?.type;if(Array.isArray(s)){for(let h=0,c=s.length;h<c;h++)if(!ut(s[h],r)&&ze(i,t,e,s[h],{typeDefs:n}))return!0;return delete i[t],!1}if(ut(s,r))return!0;if(s!==s)return C("Poison NaN",t,e,s),delete i[t],!1;if(e===s)return C("Explicitly allowed %j",e),i[t]=e,!0;let o=!1,a=Object.keys(n);for(let h=0,c=a.length;h<c;h++){C("test type %j %j %j",t,e,a[h]);let l=n[a[h]];if(l&&(s&&s.name&&l.type&&l.type.name?s.name===l.type.name:s===l.type)){let f={};if(o=l.validate(f,t,e)!==!1,e=f[t],o){i[t]=e;break}}}return C("OK? %j (%j %j %j)",o,t,e,a[a.length-1]),o||delete i[t],o}function xi(i,t,e,{types:s={},typeDefs:n={},shorthands:r={},dynamicTypes:o,unknownHandler:a,abbrevHandler:h}={}){let c=n.String?.type,l=n.Number?.type,f=n.Array?.type,d=n.Boolean?.type;C("parse",i,t,e);let u=Kt(Object.keys(s));C("abbrevs=%j",u);let m=Kt(Object.keys(r));for(let p=0;p<i.length;p++){let g=i[p];if(C("arg",g),g.match(/^-{2,}$/)){e.push.apply(e,i.slice(p+1)),i[p]="--";break}let w=!1;if(g.charAt(0)==="-"&&g.length>1){let S=g.indexOf("=");if(S>-1){w=!0;let at=g.slice(S+1);g=g.slice(0,S),i.splice(p,1,g,at)}let y=Ai(g,m,u,{shorthands:r,abbrevHandler:h});if(C("arg=%j shRes=%j",g,y),y&&(i.splice.apply(i,[p,1].concat(y)),g!==y[0])){p--;continue}g=g.replace(/^-+/,"");let E=null;for(;g.toLowerCase().indexOf("no-")===0;)E=!E,g=g.slice(3);u[g]&&u[g]!==g&&(h?h(g,u[g]):h!==!1&&C(`abbrev: ${g} -> ${u[g]}`),g=u[g]);let[k,_]=_i(g,{types:s,dynamicTypes:o}),j=Array.isArray(_);j&&_.length===1&&(j=!1,_=_[0]);let B=ut(_,f)||j&&J(_,f);!k&&vi(t,g)&&(Array.isArray(t[g])||(t[g]=[t[g]]),B=!0);let P,O=i[p+1],Gt=typeof E=="boolean"||ut(_,d)||j&&J(_,d)||typeof _>"u"&&!w||O==="false"&&(_===null||j&&~_.indexOf(null));if(typeof _>"u"){let at=!w&&O&&!O?.startsWith("-")&&!["true","false"].includes(O);a?at?a(g,O):a(g):a!==!1&&(C(`unknown: ${g}`),at&&C(`unknown: ${O} parsed as normal opt`))}if(Gt){P=!E,(O==="true"||O==="false")&&(P=JSON.parse(O),O=null,E&&(P=!P),p++),j&&O&&(~_.indexOf(O)?(P=O,p++):O==="null"&&~_.indexOf(null)?(P=null,p++):!O.match(/^-{2,}[^-]/)&&!isNaN(O)&&J(_,l)?(P=+O,p++):!O.match(/^-[^-]/)&&J(_,c)&&(P=O,p++)),B?(t[g]=t[g]||[]).push(P):t[g]=P;continue}ut(_,c)&&(O===void 0?O="":O.match(/^-{1,2}[^-]+/)&&(O="",p--)),O&&O.match(/^-{2,}$/)&&(O=void 0,p--),P=O===void 0?!0:O,B?(t[g]=t[g]||[]).push(P):t[g]=P,p++;continue}e.push(g)}}var Ei=Symbol("singles"),Co=(i,t)=>{let e=t[Ei];e||(e=Object.keys(t).filter(n=>n.length===1).reduce((n,r)=>(n[r]=!0,n),{}),t[Ei]=e,C("shorthand singles",e));let s=i.split("").filter(n=>e[n]);return s.join("")===i?s:null};function Ai(i,...t){let{abbrevHandler:e,types:s={},shorthands:n={}}=t.length?t.pop():{},r=t[0]??Kt(Object.keys(n)),o=t[1]??Kt(Object.keys(s));if(i=i.replace(/^-+/,""),o[i]===i)return null;if(n[i])return n[i]&&!Array.isArray(n[i])&&(n[i]=n[i].split(/\s+/)),n[i];let a=Co(i,n);return a?a.map(h=>n[h]).reduce((h,c)=>h.concat(c),[]):o[i]&&!n[i]?null:(r[i]&&(e?e(i,r[i]):e!==!1&&C(`abbrev: ${i} -> ${r[i]}`),i=r[i]),n[i]&&!Array.isArray(n[i])&&(n[i]=n[i].split(/\s+/)),n[i])}ki.exports={nopt:Po,clean:Oi,parse:xi,validate:ze,resolveShort:Ai,typeDefs:ko}});var Ke=v((q,Pi)=>{var He=Ti(),jo=Ue();Pi.exports=q=Ro;q.clean=No;q.typeDefs=jo;q.lib=He;function Ro(i,t,e=process.argv,s=2){return He.nopt(e.slice(s),{types:i||{},shorthands:t||{},typeDefs:q.typeDefs,invalidHandler:q.invalidHandler,unknownHandler:q.unknownHandler,abbrevHandler:q.abbrevHandler})}function No(i,t,e=q.typeDefs){return He.clean(i,{types:t||{},typeDefs:e,invalidHandler:q.invalidHandler,unknownHandler:q.unknownHandler,abbrevHandler:q.abbrevHandler})}});var ji=v((tl,Ci)=>{var Mo=Symbol("proc-log.meta");Ci.exports={META:Mo,output:{LEVELS:["standard","error","buffer","flush"],KEYS:{standard:"standard",error:"error",buffer:"buffer",flush:"flush"},standard:function(...i){return process.emit("output","standard",...i)},error:function(...i){return process.emit("output","error",...i)},buffer:function(...i){return process.emit("output","buffer",...i)},flush:function(...i){return process.emit("output","flush",...i)}},log:{LEVELS:["notice","error","warn","info","verbose","http","silly","timing","pause","resume"],KEYS:{notice:"notice",error:"error",warn:"warn",info:"info",verbose:"verbose",http:"http",silly:"silly",timing:"timing",pause:"pause",resume:"resume"},error:function(...i){return process.emit("log","error",...i)},notice:function(...i){return process.emit("log","notice",...i)},warn:function(...i){return process.emit("log","warn",...i)},info:function(...i){return process.emit("log","info",...i)},verbose:function(...i){return process.emit("log","verbose",...i)},http:function(...i){return process.emit("log","http",...i)},silly:function(...i){return process.emit("log","silly",...i)},timing:function(...i){return process.emit("log","timing",...i)},pause:function(){return process.emit("log","pause")},resume:function(){return process.emit("log","resume")}},time:{LEVELS:["start","end"],KEYS:{start:"start",end:"end"},start:function(i,t){process.emit("time","start",i);function e(){return process.emit("time","end",i)}if(typeof t=="function"){let s=t();return s&&s.finally?s.finally(e):(e(),s)}return e},end:function(i){return process.emit("time","end",i)}},input:{LEVELS:["start","end","read"],KEYS:{start:"start",end:"end",read:"read"},start:function(i){process.emit("input","start");function t(){return process.emit("input","end")}if(typeof i=="function"){let e=i();return e&&e.finally?e.finally(t):(t(),e)}return t},end:function(){return process.emit("input","end")},read:function(...i){let t,e,s=new Promise((n,r)=>{t=n,e=r});return process.emit("input","read",t,e,...i),s}}}});var Je=v((el,Ve)=>{var Vt=Ke(),Do=Vt.typeDefs.path.validate,Fo=(i,t,e)=>typeof e!="string"?!1:Do(i,t,e);Ve.exports={...Vt.typeDefs,path:{...Vt.typeDefs.path,validate:Fo}};Vt.typeDefs=Ve.exports});var Mi=v((sl,Ni)=>{var{URL:Ri}=A("url");Ni.exports=i=>{let t=new Ri(i),e=`${t.protocol}//${t.host}${t.pathname}`,s=new Ri(".",e);return`//${s.host}${s.pathname}`}});var Ye=v((il,Di)=>{var Lo=/(?<!\\)(\\*)\$\{([^${}?]+)(\?)?\}/g;Di.exports=(i,t)=>i.replace(Lo,(e,s,n,r)=>{let o=r==="?"?"":`\${${n}}`,a=t[n]!==void 0?t[n]:o;return s.length%2?e.slice((s.length+1)/2):s.slice(s.length/2)+a})});var $i=v((nl,Li)=>{var $o=Ye(),{resolve:Fi}=A("path"),Xe=(i,t,e,s=!1)=>{if(typeof i!="string"&&!Array.isArray(i))return i;let{platform:n,types:r,home:o,env:a}=e,h=new Set([].concat(r[t])),c=h.has(typeDefs.path.type),l=h.has(typeDefs.Boolean.type),f=c||h.has(typeDefs.String.type),d=h.has(typeDefs.Number.type),u=!s&&h.has(Array);if(Array.isArray(i))return u?i.map(m=>Xe(m,t,e,!0)):i;if(i=i.trim(),u)return Xe(i.split(`

`),t,e);if(l&&!f&&i==="")return!0;if(!f&&!c&&!d)switch(i){case"true":return!0;case"false":return!1;case"null":return null;case"undefined":return}return i=$o(i,a),c&&((n==="win32"?/^~(\/|\\)/:/^~\//).test(i)&&o?i=Fi(o,i.slice(2)):i=Fi(i)),d&&!isNaN(i)&&(i=+i),i};Li.exports=Xe});var Ii=v((rl,Wi)=>{var tt=class{constructor(t,e){this.key=t,this.type=e.type,this.default=e.default}},{url:{type:Wo},path:{type:Ze}}=Je(),Io={_auth:new tt("_auth",{default:null,type:[null,String]}),global:new tt("global",{default:!1,type:Boolean}),globalconfig:new tt("globalconfig",{type:Ze,default:""}),location:new tt("location",{default:"user",type:["global","user","project"]}),prefix:new tt("prefix",{type:Ze,default:""}),registry:new tt("registry",{default:"https://registry.npmjs.org/",type:Wo}),userconfig:new tt("userconfig",{default:"~/.npmrc",type:Ze})};Wi.exports=Io});var Gi=v((ol,qi)=>{var Bi=Ii(),Bo=(i,t={})=>{for(let[e,s]of Object.entries(i)){let n=Bi[e];n&&n.flatten?n.flatten(e,i,t):(/@.*:registry$/i.test(e)||/^\/\//.test(e))&&(t[e]=s)}return t};qi.exports={definitions:Bi,flatten:Bo}});var zi=v((al,Ui)=>{"use strict";var Qe=class extends Error{constructor(t){let e="Invalid auth configuration found: ";e+=t.map(s=>{if(s.action==="delete")return`\`${s.key}\` is not allowed in ${s.where} config`;if(s.action==="rename")return`\`${s.from}\` must be renamed to \`${s.to}\` in ${s.where} config`}).join(", "),e+="\nPlease run `npm config fix` to repair your configuration.`",super(e),this.code="ERR_INVALID_AUTH",this.problems=t}};Ui.exports={ErrInvalidAuth:Qe}});var es=v((hl,Ji)=>{"use strict";var qo=Symbol.for("indent"),Go=Symbol.for("newline"),Uo=`
`,zo="  ",Ho=/^\uFEFF/,Ko=/^\s*[{[]((?:\r?\n)+)([\s\t]*)/,Vo=/^(?:\{\}|\[\])((?:\r?\n)+)?$/,Hi=/^Unexpected token '?(.)'?(,)? /i,Jo=i=>{let t=i.charCodeAt(0).toString(16).toUpperCase();return`0x${t.length%2?"0":""}${t}`},Ki=i=>String(i).replace(Ho,""),ts=(i,t,e=0)=>({message:`${i} while parsing ${t}`,position:e}),Yo=(i,t,e=20)=>{let s=i.message;if(!t)return ts(s,"empty string");let n=s.match(Hi),r=s.match(/ position\s+(\d+)/i);n&&(s=s.replace(Hi,`Unexpected token ${JSON.stringify(n[1])} (${Jo(n[1])})$2 `));let o;if(r?o=+r[1]:s.match(/^Unexpected end of JSON.*/i)&&(o=t.length-1),o==null)return ts(s,`'${t.slice(0,e*2)}'`);let a=o<=e?0:o-e,h=o+e>=t.length?t.length:o+e,c=`${a?"...":""}${t.slice(a,h)}${h===t.length?"":"..."}`;return ts(s,`${t===c?"":"near "}${JSON.stringify(c)}`,o)},Jt=class extends SyntaxError{constructor(t,e,s,n){let r=Yo(t,e,s);super(r.message),Object.assign(this,r),this.code="EJSONPARSE",this.systemError=t,Error.captureStackTrace(this,n||this.constructor)}get name(){return this.constructor.name}set name(t){}get[Symbol.toStringTag](){return this.constructor.name}},Vi=(i,t)=>{let e=JSON.parse(i,t);if(e&&typeof e=="object"){let s=i.match(Vo)||i.match(Ko)||[null,"",""];e[Go]=s[1]??Uo,e[qo]=s[2]??zo}return e},Yt=(i,t,e)=>{let s=Ki(i);try{return Vi(s,t)}catch(n){if(typeof i!="string"&&!Buffer.isBuffer(i)){let r=Array.isArray(i)&&i.length===0?"an empty array":String(i);throw Object.assign(new TypeError(`Cannot parse ${r}`),{code:"EJSONPARSE",systemError:n})}throw new Jt(n,s,e,Yt)}};Ji.exports=Yt;Yt.JSONParseError=Jt;Yt.noExceptions=(i,t)=>{try{return Vi(Ki(i),t)}catch{}}});var Zi=v((cl,Xi)=>{var ss=new Set(["dependencies","optionalDependencies","devDependencies","peerDependencies"]),Xo=i=>{for(let t of ss)i&&i[t]&&(i[t]=Object.keys(i[t]).sort((e,s)=>e.localeCompare(s,"en")).reduce((e,s)=>(e[s]=i[t][s],e),{}));return i},Yi=({content:i,originalContent:t})=>{let e=Xo({...i});if(e.dependencies&&e.optionalDependencies)for(let a of Object.keys(e.optionalDependencies))delete e.dependencies[a];let s={...t};for(let a of ss)e[a]&&(s[a]=e[a]),e[a]&&typeof e=="object"&&Object.keys(e[a]).length===0&&delete s[a];let{dependencies:n,peerDependencies:r}=t||{},{peerDependencies:o}=s;if(n&&r&&o)for(let a of Object.keys(r))n[a]!==void 0&&o[a]!==void 0&&(s.dependencies=s.dependencies||{},s.dependencies[a]=o[a]);return s};Yi.knownKeys=ss;Xi.exports=Yi});var tn=v((ll,Qi)=>{var Zo=({content:i,originalContent:t={}})=>{let e=i.scripts;if(!e)return t;if(Object.entries(e).some(([n,r])=>typeof n!="string"||typeof r!="string"))throw Object.assign(new TypeError("package.json scripts should be a key-value pair of strings."),{code:"ESCRIPTSINVALID"});return{...t,scripts:{...e}}};Qi.exports=Zo});var sn=v((fl,en)=>{var Qo=({content:i,originalContent:t={}})=>{let e=i.workspaces;if(!e)return t;let s=()=>e.some(n=>typeof n!="string");if(!e.length||s())throw Object.assign(new TypeError("workspaces should be an array of strings."),{code:"EWORKSPACESINVALID"});return{...t,workspaces:[...e]}};en.exports=Qo});var an=v((ul,on)=>{var{readFile:ta}=A("fs/promises"),ea=es();async function nn(i){try{return await ta(i,"utf8")}catch(t){throw t.message=`Could not read package.json: ${t}`,t}}function rn(i){try{return ea(i)}catch(t){throw t.message=`Invalid package.json: ${t}`,t}}async function sa(i){let t=await nn(i);return rn(t)}on.exports={read:nn,parse:rn,readPackage:sa}});var cn=v((dl,hn)=>{function ia(i){let{name:t,version:e,private:s,description:n,keywords:r,homepage:o,bugs:a,repository:h,funding:c,license:l,author:f,maintainers:d,contributors:u,type:m,imports:p,exports:g,main:w,browser:S,types:y,bin:E,man:k,directories:_,files:j,workspaces:B,scripts:P,config:O,dependencies:Gt,devDependencies:at,peerDependencies:Vs,peerDependenciesMeta:Js,optionalDependencies:Ys,bundledDependencies:Xs,bundleDependencies:Zs,engines:Qs,os:ti,cpu:ei,publishConfig:si,devEngines:ii,licenses:ni,overrides:ri,...ho}=i;return{...typeof t<"u"?{name:t}:{},...typeof e<"u"?{version:e}:{},...typeof s<"u"?{private:s}:{},...typeof n<"u"?{description:n}:{},...typeof r<"u"?{keywords:r}:{},...typeof o<"u"?{homepage:o}:{},...typeof a<"u"?{bugs:a}:{},...typeof h<"u"?{repository:h}:{},...typeof c<"u"?{funding:c}:{},...typeof l<"u"?{license:l}:{},...typeof f<"u"?{author:f}:{},...typeof d<"u"?{maintainers:d}:{},...typeof u<"u"?{contributors:u}:{},...typeof m<"u"?{type:m}:{},...typeof p<"u"?{imports:p}:{},...typeof g<"u"?{exports:g}:{},...typeof w<"u"?{main:w}:{},...typeof S<"u"?{browser:S}:{},...typeof y<"u"?{types:y}:{},...typeof E<"u"?{bin:E}:{},...typeof k<"u"?{man:k}:{},...typeof _<"u"?{directories:_}:{},...typeof j<"u"?{files:j}:{},...typeof B<"u"?{workspaces:B}:{},...typeof P<"u"?{scripts:P}:{},...typeof O<"u"?{config:O}:{},...typeof Gt<"u"?{dependencies:Gt}:{},...typeof at<"u"?{devDependencies:at}:{},...typeof Vs<"u"?{peerDependencies:Vs}:{},...typeof Js<"u"?{peerDependenciesMeta:Js}:{},...typeof Ys<"u"?{optionalDependencies:Ys}:{},...typeof Xs<"u"?{bundledDependencies:Xs}:{},...typeof Zs<"u"?{bundleDependencies:Zs}:{},...typeof Qs<"u"?{engines:Qs}:{},...typeof ti<"u"?{os:ti}:{},...typeof ei<"u"?{cpu:ei}:{},...typeof si<"u"?{publishConfig:si}:{},...typeof ii<"u"?{devEngines:ii}:{},...typeof ni<"u"?{licenses:ni}:{},...typeof ri<"u"?{overrides:ri}:{},...ho}}hn.exports={packageSort:ia}});var ns=v((pl,un)=>{var{readFile:na,writeFile:ra}=A("fs/promises"),{resolve:ln}=A("path"),oa=es(),fn=Zi(),aa=tn(),ha=sn(),{read:ca,parse:la}=an(),{packageSort:fa}=cn(),ua=new Set([fn,aa,ha]),da=new Set([...fn.knownKeys,"scripts","workspaces"]),is=class i{static async create(t,e={}){let s=new i;return await s.create(t),e.data?s.update(e.data):s}static async load(t,e={}){let s=new i;if(!e.create)return s.load(t);try{return await s.load(t)}catch(n){if(!n.message.startsWith("Could not read package.json"))throw n;return await s.create(t)}}static async fix(t,e){let s=new i;return await s.load(t,!0),s.fix(e)}static async prepare(t,e){let s=new i;return await s.load(t,!0),s.prepare(e)}static async normalize(t,e){let s=new i;return await s.load(t),s.normalize(e)}#t;#e;#s="";#i=!0;async load(t,e){this.#t=t;let s;try{this.#s=await ca(this.filename)}catch(n){if(!e)throw n;s=n}if(s){let n=ln(this.path,"index.js"),r;try{r=await na(n,"utf8")}catch{throw s}try{this.fromComment(r)}catch{throw s}return this.#i=!1,this}return this.fromJSON(this.#s)}fromJSON(t){return this.#e=la(t),this}fromContent(t){return this.#e=t,this.#i=!1,this}fromComment(t){if(t=t.split(/^\/\*\*package(?:\s|$)/m),t.length<2)throw new Error("File has no package in comments");if(t=t[1],t=t.split(/\*\*\/$/m),t.length<2)throw new Error("File has no package in comments");return t=t[0],t=t.replace(/^\s*\*/mg,""),this.#e=oa(t),this}get content(){return this.#e}get path(){return this.#t}get filename(){if(this.path)return ln(this.path,"package.json")}create(t){return this.#t=t,this.#e={},this}update(t){if(!this.content)throw new Error("Can not update without content.  Please `load` or `create`");for(let e of ua)this.#e=e({content:t,originalContent:this.content});for(let[e,s]of Object.entries(t))da.has(e)||(this.content[e]=s);return this}async save({sort:t}={}){if(!this.#i)throw new Error("No package.json to save to");let{[Symbol.for("indent")]:e,[Symbol.for("newline")]:s,...n}=this.content,r=e===void 0?"  ":e,o=s===void 0?`
`:s,a=t?fa(n):n,h=`${JSON.stringify(a,null,r)}
`.replace(/\n/g,o);if(h.trim()!==this.#s.trim()){let c=await ra(this.filename,h);return this.#s=h,c}}async normalize(t={}){return t.steps||(t.steps={}),this}async prepare(t={}){return t.steps||(t.steps={}),this}async fix(t={}){return t.steps={},this}};un.exports=is});var gn=v((gl,pn)=>{var{basename:dn,dirname:pa}=A("path"),ga=(i,t)=>i.charAt(0)==="@"?`${i}/${t}`:t;pn.exports=i=>i?ga(dn(pa(i)),dn(i)):!1});var Sn=v((ml,bn)=>{"use strict";bn.exports=wn;function wn(i,t,e){i instanceof RegExp&&(i=mn(i,e)),t instanceof RegExp&&(t=mn(t,e));var s=yn(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function mn(i,t){var e=t.match(i);return e?e[0]:null}wn.range=yn;function yn(i,t,e){var s,n,r,o,a,h=e.indexOf(i),c=e.indexOf(t,h+1),l=h;if(h>=0&&c>0){if(i===t)return[h,c];for(s=[],r=e.length;l>=0&&!a;)l==h?(s.push(l),h=e.indexOf(i,l+1)):s.length==1?a=[s.pop(),c]:(n=s.pop(),n<r&&(r=n,o=c),c=e.indexOf(t,l+1)),l=h<c&&h>=0?h:c;s.length&&(a=[r,o])}return a}});var Tn=v((wl,kn)=>{var En=Sn();kn.exports=ya;var vn="\0SLASH"+Math.random()+"\0",_n="\0OPEN"+Math.random()+"\0",os="\0CLOSE"+Math.random()+"\0",On="\0COMMA"+Math.random()+"\0",xn="\0PERIOD"+Math.random()+"\0";function rs(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function ma(i){return i.split("\\\\").join(vn).split("\\{").join(_n).split("\\}").join(os).split("\\,").join(On).split("\\.").join(xn)}function wa(i){return i.split(vn).join("\\").split(_n).join("{").split(os).join("}").split(On).join(",").split(xn).join(".")}function An(i){if(!i)return[""];var t=[],e=En("{","}",i);if(!e)return i.split(",");var s=e.pre,n=e.body,r=e.post,o=s.split(",");o[o.length-1]+="{"+n+"}";var a=An(r);return r.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function ya(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),St(ma(i),!0).map(wa)):[]}function ba(i){return"{"+i+"}"}function Sa(i){return/^-?0\d/.test(i)}function Ea(i,t){return i<=t}function va(i,t){return i>=t}function St(i,t){var e=[],s=En("{","}",i);if(!s)return[i];var n=s.pre,r=s.post.length?St(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<r.length;o++){var a=n+"{"+s.body+"}"+r[o];e.push(a)}else{var h=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),l=h||c,f=s.body.indexOf(",")>=0;if(!l&&!f)return s.post.match(/,(?!,).*\}/)?(i=s.pre+"{"+s.body+os+s.post,St(i)):[i];var d;if(l)d=s.body.split(/\.\./);else if(d=An(s.body),d.length===1&&(d=St(d[0],!1).map(ba),d.length===1))return r.map(function(O){return s.pre+d[0]+O});var u;if(l){var m=rs(d[0]),p=rs(d[1]),g=Math.max(d[0].length,d[1].length),w=d.length==3?Math.abs(rs(d[2])):1,S=Ea,y=p<m;y&&(w*=-1,S=va);var E=d.some(Sa);u=[];for(var k=m;S(k,p);k+=w){var _;if(c)_=String.fromCharCode(k),_==="\\"&&(_="");else if(_=String(k),E){var j=g-_.length;if(j>0){var B=new Array(j+1).join("0");k<0?_="-"+B+_.slice(1):_=B+_}}u.push(_)}}else{u=[];for(var P=0;P<d.length;P++)u.push.apply(u,St(d[P],!1))}for(var P=0;P<u.length;P++)for(var o=0;o<r.length;o++){var a=n+u[P]+r[o];(!t||l||a)&&e.push(a)}}return e}});var Pn=v(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.assertValidPattern=void 0;var _a=1024*64,Oa=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>_a)throw new TypeError("pattern is too long")};Xt.assertValidPattern=Oa});var jn=v(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.parseClass=void 0;var xa={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Et=i=>i.replace(/[[\]\\-]/g,"\\$&"),Aa=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Cn=i=>i.join(""),ka=(i,t)=>{let e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");let s=[],n=[],r=e+1,o=!1,a=!1,h=!1,c=!1,l=e,f="";t:for(;r<i.length;){let p=i.charAt(r);if((p==="!"||p==="^")&&r===e+1){c=!0,r++;continue}if(p==="]"&&o&&!h){l=r+1;break}if(o=!0,p==="\\"&&!h){h=!0,r++;continue}if(p==="["&&!h){for(let[g,[w,S,y]]of Object.entries(xa))if(i.startsWith(g,r)){if(f)return["$.",!1,i.length-e,!0];r+=g.length,y?n.push(w):s.push(w),a=a||S;continue t}}if(h=!1,f){p>f?s.push(Et(f)+"-"+Et(p)):p===f&&s.push(Et(p)),f="",r++;continue}if(i.startsWith("-]",r+1)){s.push(Et(p+"-")),r+=2;continue}if(i.startsWith("-",r+1)){f=p,r+=2;continue}s.push(Et(p)),r++}if(l<r)return["",!1,0,!1];if(!s.length&&!n.length)return["$.",!1,i.length-e,!0];if(n.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!c){let p=s[0].length===2?s[0].slice(-1):s[0];return[Aa(p),!1,l-e,!1]}let d="["+(c?"^":"")+Cn(s)+"]",u="["+(c?"":"^")+Cn(n)+"]";return[s.length&&n.length?"("+d+"|"+u+")":s.length?d:u,a,l-e,!0]};Zt.parseClass=ka});var te=v(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.unescape=void 0;var Ta=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Qt.unescape=Ta});var cs=v(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.AST=void 0;var Pa=jn(),ee=te(),Ca=new Set(["!","?","+","*","@"]),Rn=i=>Ca.has(i),ja="(?!(?:^|/)\\.\\.?(?:$|/))",se="(?!\\.)",Ra=new Set(["[","."]),Na=new Set(["..","."]),Ma=new Set("().*{}+?[]^$\\!"),Da=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),hs="[^/]",Nn=hs+"*?",Mn=hs+"+?",as=class i{type;#t;#e;#s=!1;#i=[];#o;#S;#c;#f=!1;#a;#h;#r=!1;constructor(t,e,s={}){this.type=t,t&&(this.#e=!0),this.#o=e,this.#t=this.#o?this.#o.#t:this,this.#a=this.#t===this?s:this.#t.#a,this.#c=this.#t===this?[]:this.#t.#c,t==="!"&&!this.#t.#f&&this.#c.push(this),this.#S=this.#o?this.#o.#i.length:0}get hasMagic(){if(this.#e!==void 0)return this.#e;for(let t of this.#i)if(typeof t!="string"&&(t.type||t.hasMagic))return this.#e=!0;return this.#e}toString(){return this.#h!==void 0?this.#h:this.type?this.#h=this.type+"("+this.#i.map(t=>String(t)).join("|")+")":this.#h=this.#i.map(t=>String(t)).join("")}#m(){if(this!==this.#t)throw new Error("should only call on root");if(this.#f)return this;this.toString(),this.#f=!0;let t;for(;t=this.#c.pop();){if(t.type!=="!")continue;let e=t,s=e.#o;for(;s;){for(let n=e.#S+1;!s.type&&n<s.#i.length;n++)for(let r of t.#i){if(typeof r=="string")throw new Error("string part in extglob AST??");r.copyIn(s.#i[n])}e=s,s=e.#o}}return this}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof i&&e.#o===this))throw new Error("invalid part: "+e);this.#i.push(e)}}toJSON(){let t=this.type===null?this.#i.slice().map(e=>typeof e=="string"?e:e.toJSON()):[this.type,...this.#i.map(e=>e.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#f&&this.#o?.type==="!")&&t.push({}),t}isStart(){if(this.#t===this)return!0;if(!this.#o?.isStart())return!1;if(this.#S===0)return!0;let t=this.#o;for(let e=0;e<this.#S;e++){let s=t.#i[e];if(!(s instanceof i&&s.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#o?.type==="!")return!0;if(!this.#o?.isEnd())return!1;if(!this.type)return this.#o?.isEnd();let t=this.#o?this.#o.#i.length:0;return this.#S===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new i(this.type,t);for(let s of this.#i)e.copyIn(s);return e}static#w(t,e,s,n){let r=!1,o=!1,a=-1,h=!1;if(e.type===null){let u=s,m="";for(;u<t.length;){let p=t.charAt(u++);if(r||p==="\\"){r=!r,m+=p;continue}if(o){u===a+1?(p==="^"||p==="!")&&(h=!0):p==="]"&&!(u===a+2&&h)&&(o=!1),m+=p;continue}else if(p==="["){o=!0,a=u,h=!1,m+=p;continue}if(!n.noext&&Rn(p)&&t.charAt(u)==="("){e.push(m),m="";let g=new i(p,e);u=i.#w(t,g,u,n),e.push(g);continue}m+=p}return e.push(m),u}let c=s+1,l=new i(null,e),f=[],d="";for(;c<t.length;){let u=t.charAt(c++);if(r||u==="\\"){r=!r,d+=u;continue}if(o){c===a+1?(u==="^"||u==="!")&&(h=!0):u==="]"&&!(c===a+2&&h)&&(o=!1),d+=u;continue}else if(u==="["){o=!0,a=c,h=!1,d+=u;continue}if(Rn(u)&&t.charAt(c)==="("){l.push(d),d="";let m=new i(u,l);l.push(m),c=i.#w(t,m,c,n);continue}if(u==="|"){l.push(d),d="",f.push(l),l=new i(null,e);continue}if(u===")")return d===""&&e.#i.length===0&&(e.#r=!0),l.push(d),d="",e.push(...f,l),c;d+=u}return e.type=null,e.#e=void 0,e.#i=[t.substring(s-1)],c}static fromGlob(t,e={}){let s=new i(null,void 0,e);return i.#w(t,s,0,e),s}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let t=this.toString(),[e,s,n,r]=this.toRegExpSource();if(!(n||this.#e||this.#a.nocase&&!this.#a.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;let a=(this.#a.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${e}$`,a),{_src:e,_glob:t})}get options(){return this.#a}toRegExpSource(t){let e=t??!!this.#a.dot;if(this.#t===this&&this.#m(),!this.type){let h=this.isStart()&&this.isEnd(),c=this.#i.map(u=>{let[m,p,g,w]=typeof u=="string"?i.#u(u,this.#e,h):u.toRegExpSource(t);return this.#e=this.#e||g,this.#s=this.#s||w,m}).join(""),l="";if(this.isStart()&&typeof this.#i[0]=="string"&&!(this.#i.length===1&&Na.has(this.#i[0]))){let m=Ra,p=e&&m.has(c.charAt(0))||c.startsWith("\\.")&&m.has(c.charAt(2))||c.startsWith("\\.\\.")&&m.has(c.charAt(4)),g=!e&&!t&&m.has(c.charAt(0));l=p?ja:g?se:""}let f="";return this.isEnd()&&this.#t.#f&&this.#o?.type==="!"&&(f="(?:$|\\/)"),[l+c+f,(0,ee.unescape)(c),this.#e=!!this.#e,this.#s]}let s=this.type==="*"||this.type==="+",n=this.type==="!"?"(?:(?!(?:":"(?:",r=this.#d(e);if(this.isStart()&&this.isEnd()&&!r&&this.type!=="!"){let h=this.toString();return this.#i=[h],this.type=null,this.#e=void 0,[h,(0,ee.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!se?"":this.#d(!0);o===r&&(o=""),o&&(r=`(?:${r})(?:${o})*?`);let a="";if(this.type==="!"&&this.#r)a=(this.isStart()&&!e?se:"")+Mn;else{let h=this.type==="!"?"))"+(this.isStart()&&!e&&!t?se:"")+Nn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;a=n+r+h}return[a,(0,ee.unescape)(r),this.#e=!!this.#e,this.#s]}#d(t){return this.#i.map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");let[s,n,r,o]=e.toRegExpSource(t);return this.#s=this.#s||o,s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")}static#u(t,e,s=!1){let n=!1,r="",o=!1;for(let a=0;a<t.length;a++){let h=t.charAt(a);if(n){n=!1,r+=(Ma.has(h)?"\\":"")+h;continue}if(h==="\\"){a===t.length-1?r+="\\\\":n=!0;continue}if(h==="["){let[c,l,f,d]=(0,Pa.parseClass)(t,a);if(f){r+=c,o=o||l,a+=f-1,e=e||d;continue}}if(h==="*"){s&&t==="*"?r+=Mn:r+=Nn,e=!0;continue}if(h==="?"){r+=hs,e=!0;continue}r+=Da(h)}return[r,(0,ee.unescape)(t),!!e,o]}};ie.AST=as});var ls=v(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.escape=void 0;var Fa=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");ne.escape=Fa});var et=v(b=>{"use strict";var La=b&&b.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(b,"__esModule",{value:!0});b.unescape=b.escape=b.AST=b.Minimatch=b.match=b.makeRe=b.braceExpand=b.defaults=b.filter=b.GLOBSTAR=b.sep=b.minimatch=void 0;var $a=La(Tn()),re=Pn(),Ln=cs(),Wa=ls(),Ia=te(),Ba=(i,t,e={})=>((0,re.assertValidPattern)(t),!e.nocomment&&t.charAt(0)==="#"?!1:new ht(t,e).match(i));b.minimatch=Ba;var qa=/^\*+([^+@!?\*\[\(]*)$/,Ga=i=>t=>!t.startsWith(".")&&t.endsWith(i),Ua=i=>t=>t.endsWith(i),za=i=>(i=i.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(i)),Ha=i=>(i=i.toLowerCase(),t=>t.toLowerCase().endsWith(i)),Ka=/^\*+\.\*+$/,Va=i=>!i.startsWith(".")&&i.includes("."),Ja=i=>i!=="."&&i!==".."&&i.includes("."),Ya=/^\.\*+$/,Xa=i=>i!=="."&&i!==".."&&i.startsWith("."),Za=/^\*+$/,Qa=i=>i.length!==0&&!i.startsWith("."),th=i=>i.length!==0&&i!=="."&&i!=="..",eh=/^\?+([^+@!?\*\[\(]*)?$/,sh=([i,t=""])=>{let e=$n([i]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},ih=([i,t=""])=>{let e=Wn([i]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},nh=([i,t=""])=>{let e=Wn([i]);return t?s=>e(s)&&s.endsWith(t):e},rh=([i,t=""])=>{let e=$n([i]);return t?s=>e(s)&&s.endsWith(t):e},$n=([i])=>{let t=i.length;return e=>e.length===t&&!e.startsWith(".")},Wn=([i])=>{let t=i.length;return e=>e.length===t&&e!=="."&&e!==".."},In=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Dn={win32:{sep:"\\"},posix:{sep:"/"}};b.sep=In==="win32"?Dn.win32.sep:Dn.posix.sep;b.minimatch.sep=b.sep;b.GLOBSTAR=Symbol("globstar **");b.minimatch.GLOBSTAR=b.GLOBSTAR;var oh="[^/]",ah=oh+"*?",hh="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",ch="(?:(?!(?:\\/|^)\\.).)*?",lh=(i,t={})=>e=>(0,b.minimatch)(e,i,t);b.filter=lh;b.minimatch.filter=b.filter;var U=(i,t={})=>Object.assign({},i,t),fh=i=>{if(!i||typeof i!="object"||!Object.keys(i).length)return b.minimatch;let t=b.minimatch;return Object.assign((s,n,r={})=>t(s,n,U(i,r)),{Minimatch:class extends t.Minimatch{constructor(n,r={}){super(n,U(i,r))}static defaults(n){return t.defaults(U(i,n)).Minimatch}},AST:class extends t.AST{constructor(n,r,o={}){super(n,r,U(i,o))}static fromGlob(n,r={}){return t.AST.fromGlob(n,U(i,r))}},unescape:(s,n={})=>t.unescape(s,U(i,n)),escape:(s,n={})=>t.escape(s,U(i,n)),filter:(s,n={})=>t.filter(s,U(i,n)),defaults:s=>t.defaults(U(i,s)),makeRe:(s,n={})=>t.makeRe(s,U(i,n)),braceExpand:(s,n={})=>t.braceExpand(s,U(i,n)),match:(s,n,r={})=>t.match(s,n,U(i,r)),sep:t.sep,GLOBSTAR:b.GLOBSTAR})};b.defaults=fh;b.minimatch.defaults=b.defaults;var uh=(i,t={})=>((0,re.assertValidPattern)(i),t.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:(0,$a.default)(i));b.braceExpand=uh;b.minimatch.braceExpand=b.braceExpand;var dh=(i,t={})=>new ht(i,t).makeRe();b.makeRe=dh;b.minimatch.makeRe=b.makeRe;var ph=(i,t,e={})=>{let s=new ht(t,e);return i=i.filter(n=>s.match(n)),s.options.nonull&&!i.length&&i.push(t),i};b.match=ph;b.minimatch.match=b.match;var Fn=/[?*]|[+@!]\(.*?\)|\[|\]/,gh=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ht=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){(0,re.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||In,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...r)=>console.error(...r)),this.debug(this.pattern,this.globSet);let s=this.globSet.map(r=>this.slashSplit(r));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let n=this.globParts.map((r,o,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let h=r[0]===""&&r[1]===""&&(r[2]==="?"||!Fn.test(r[2]))&&!Fn.test(r[3]),c=/^[a-z]:/i.test(r[0]);if(h)return[...r.slice(0,4),...r.slice(4).map(l=>this.parse(l))];if(c)return[r[0],...r.slice(1).map(l=>this.parse(l))]}return r.map(h=>this.parse(h))});if(this.debug(this.pattern,n),this.set=n.filter(r=>r.indexOf(!1)===-1),this.isWindows)for(let r=0;r<this.set.length;r++){let o=this.set[r];o[0]===""&&o[1]===""&&this.globParts[r][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let n=0;n<t[s].length;n++)t[s][n]==="**"&&(t[s][n]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let n=s;for(;e[n+1]==="**";)n++;n!==s&&e.splice(s,n-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,n)=>{let r=s[s.length-1];return n==="**"&&r==="**"?s:n===".."&&r&&r!==".."&&r!=="."&&r!=="**"?(s.pop(),s):(s.push(n),s)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let n=1;n<t.length-1;n++){let r=t[n];n===1&&r===""&&t[0]===""||(r==="."||r==="")&&(e=!0,t.splice(n,1),n--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){let n=t[s-1];n&&n!=="."&&n!==".."&&n!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let n=-1;for(;(n=s.indexOf("**",n+1))!==-1;){let o=n;for(;s[o+1]==="**";)o++;o>n&&s.splice(n+1,o-n);let a=s[n+1],h=s[n+2],c=s[n+3];if(a!==".."||!h||h==="."||h===".."||!c||c==="."||c==="..")continue;e=!0,s.splice(n,1);let l=s.slice(0);l[n]="**",t.push(l),n--}if(!this.preserveMultipleSlashes){for(let o=1;o<s.length-1;o++){let a=s[o];o===1&&a===""&&s[0]===""||(a==="."||a==="")&&(e=!0,s.splice(o,1),o--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(e=!0,s.pop())}let r=0;for(;(r=s.indexOf("..",r+1))!==-1;){let o=s[r-1];if(o&&o!=="."&&o!==".."&&o!=="**"){e=!0;let h=r===1&&s[r+1]==="**"?["."]:[];s.splice(r-1,2,...h),s.length===0&&s.push(""),r-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){let n=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);if(n){t[e]=[],t[s]=n;break}}return t.filter(e=>e.length)}partsMatch(t,e,s=!1){let n=0,r=0,o=[],a="";for(;n<t.length&&r<e.length;)if(t[n]===e[r])o.push(a==="b"?e[r]:t[n]),n++,r++;else if(s&&t[n]==="**"&&e[r]===t[n+1])o.push(t[n]),n++;else if(s&&e[r]==="**"&&t[n]===e[r+1])o.push(e[r]),r++;else if(t[n]==="*"&&e[r]&&(this.options.dot||!e[r].startsWith("."))&&e[r]!=="**"){if(a==="b")return!1;a="a",o.push(t[n]),n++,r++}else if(e[r]==="*"&&t[n]&&(this.options.dot||!t[n].startsWith("."))&&t[n]!=="**"){if(a==="a")return!1;a="b",o.push(e[r]),n++,r++}else return!1;return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,s=0;for(let n=0;n<t.length&&t.charAt(n)==="!";n++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e,s=!1){let n=this.options;if(this.isWindows){let p=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),g=!p&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),w=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),S=!w&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),y=g?3:p?0:void 0,E=S?3:w?0:void 0;if(typeof y=="number"&&typeof E=="number"){let[k,_]=[t[y],e[E]];k.toLowerCase()===_.toLowerCase()&&(e[E]=k,E>y?e=e.slice(E):y>E&&(t=t.slice(y)))}}let{optimizationLevel:r=1}=this.options;r>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,a=0,h=t.length,c=e.length;o<h&&a<c;o++,a++){this.debug("matchOne loop");var l=e[a],f=t[o];if(this.debug(e,l,f),l===!1)return!1;if(l===b.GLOBSTAR){this.debug("GLOBSTAR",[e,l,f]);var d=o,u=a+1;if(u===c){for(this.debug("** at the end");o<h;o++)if(t[o]==="."||t[o]===".."||!n.dot&&t[o].charAt(0)===".")return!1;return!0}for(;d<h;){var m=t[d];if(this.debug(`
globstar while`,t,d,e,u,m),this.matchOne(t.slice(d),e.slice(u),s))return this.debug("globstar found match!",d,h,m),!0;if(m==="."||m===".."||!n.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,d,e,u);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(s&&(this.debug(`
>>> no match, partial?`,t,d,e,u),d===h))}let p;if(typeof l=="string"?(p=f===l,this.debug("string match",l,f,p)):(p=l.test(f),this.debug("pattern match",l,f,p)),!p)return!1}if(o===h&&a===c)return!0;if(o===h)return s;if(a===c)return o===h-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return(0,b.braceExpand)(this.pattern,this.options)}parse(t){(0,re.assertValidPattern)(t);let e=this.options;if(t==="**")return b.GLOBSTAR;if(t==="")return"";let s,n=null;(s=t.match(Za))?n=e.dot?th:Qa:(s=t.match(qa))?n=(e.nocase?e.dot?Ha:za:e.dot?Ua:Ga)(s[1]):(s=t.match(eh))?n=(e.nocase?e.dot?ih:sh:e.dot?nh:rh)(s):(s=t.match(Ka))?n=e.dot?Ja:Va:(s=t.match(Ya))&&(n=Xa);let r=Ln.AST.fromGlob(t,this.options).toMMPattern();return n&&typeof r=="object"&&Reflect.defineProperty(r,"test",{value:n}),r}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,s=e.noglobstar?ah:e.dot?hh:ch,n=new Set(e.nocase?["i"]:[]),r=t.map(h=>{let c=h.map(l=>{if(l instanceof RegExp)for(let f of l.flags.split(""))n.add(f);return typeof l=="string"?gh(l):l===b.GLOBSTAR?b.GLOBSTAR:l._src});return c.forEach((l,f)=>{let d=c[f+1],u=c[f-1];l!==b.GLOBSTAR||u===b.GLOBSTAR||(u===void 0?d!==void 0&&d!==b.GLOBSTAR?c[f+1]="(?:\\/|"+s+"\\/)?"+d:c[f]=s:d===void 0?c[f-1]=u+"(?:\\/|"+s+")?":d!==b.GLOBSTAR&&(c[f-1]=u+"(?:\\/|\\/"+s+"\\/)"+d,c[f+1]=b.GLOBSTAR))}),c.filter(l=>l!==b.GLOBSTAR).join("/")}).join("|"),[o,a]=t.length>1?["(?:",")"]:["",""];r="^"+o+r+a+"$",this.negate&&(r="^(?!"+r+").+$");try{this.regexp=new RegExp(r,[...n].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let s=this.options;this.isWindows&&(t=t.split("\\").join("/"));let n=this.slashSplit(t);this.debug(this.pattern,"split",n);let r=this.set;this.debug(this.pattern,"set",r);let o=n[n.length-1];if(!o)for(let a=n.length-2;!o&&a>=0;a--)o=n[a];for(let a=0;a<r.length;a++){let h=r[a],c=n;if(s.matchBase&&h.length===1&&(c=[o]),this.matchOne(c,h,e))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(t){return b.minimatch.defaults(t).Minimatch}};b.Minimatch=ht;var mh=cs();Object.defineProperty(b,"AST",{enumerable:!0,get:function(){return mh.AST}});var wh=ls();Object.defineProperty(b,"escape",{enumerable:!0,get:function(){return wh.escape}});var yh=te();Object.defineProperty(b,"unescape",{enumerable:!0,get:function(){return yh.unescape}});b.minimatch.AST=Ln.AST;b.minimatch.Minimatch=ht;b.minimatch.escape=Wa.escape;b.minimatch.unescape=Ia.unescape});var zn=v(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.LRUCache=void 0;var dt=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,qn=new Set,fs=typeof process=="object"&&process?process:{},Gn=(i,t,e,s)=>{typeof fs.emitWarning=="function"?fs.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)},oe=globalThis.AbortController,Bn=globalThis.AbortSignal;if(typeof oe>"u"){Bn=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,n){this._onabort.push(n)}},oe=class{constructor(){t()}signal=new Bn;abort(s){if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(let n of this.signal._onabort)n(s);this.signal.onabort?.(s)}}};let i=fs.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",t=()=>{i&&(i=!1,Gn("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var bh=i=>!qn.has(i),Tl=Symbol("type"),nt=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),Un=i=>nt(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?pt:null:null,pt=class extends Array{constructor(t){super(t),this.fill(0)}},us=class i{heap;length;static#t=!1;static create(t){let e=Un(t);if(!e)return[];i.#t=!0;let s=new i(t,e);return i.#t=!1,s}constructor(t,e){if(!i.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},ds=class i{#t;#e;#s;#i;#o;#S;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#c;#f;#a;#h;#r;#m;#w;#d;#u;#_;#g;#O;#x;#b;#E;#v;#p;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#b,sizes:t.#O,keyMap:t.#a,keyList:t.#h,valList:t.#r,next:t.#m,prev:t.#w,get head(){return t.#d},get tail(){return t.#u},free:t.#_,isBackgroundFetch:e=>t.#l(e),backgroundFetch:(e,s,n,r)=>t.#$(e,s,n,r),moveToTail:e=>t.#I(e),indexes:e=>t.#k(e),rindexes:e=>t.#T(e),isStale:e=>t.#y(e)}}get max(){return this.#t}get maxSize(){return this.#e}get calculatedSize(){return this.#f}get size(){return this.#c}get fetchMethod(){return this.#o}get memoMethod(){return this.#S}get dispose(){return this.#s}get disposeAfter(){return this.#i}constructor(t){let{max:e=0,ttl:s,ttlResolution:n=1,ttlAutopurge:r,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:h,dispose:c,disposeAfter:l,noDisposeOnSet:f,noUpdateTTL:d,maxSize:u=0,maxEntrySize:m=0,sizeCalculation:p,fetchMethod:g,memoMethod:w,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:y,allowStaleOnFetchRejection:E,allowStaleOnFetchAbort:k,ignoreFetchAbort:_}=t;if(e!==0&&!nt(e))throw new TypeError("max option must be a nonnegative integer");let j=e?Un(e):Array;if(!j)throw new Error("invalid max value: "+e);if(this.#t=e,this.#e=u,this.maxEntrySize=m||this.#e,this.sizeCalculation=p,this.sizeCalculation){if(!this.#e&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(w!==void 0&&typeof w!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#S=w,g!==void 0&&typeof g!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#o=g,this.#v=!!g,this.#a=new Map,this.#h=new Array(e).fill(void 0),this.#r=new Array(e).fill(void 0),this.#m=new j(e),this.#w=new j(e),this.#d=0,this.#u=0,this.#_=us.create(e),this.#c=0,this.#f=0,typeof c=="function"&&(this.#s=c),typeof l=="function"?(this.#i=l,this.#g=[]):(this.#i=void 0,this.#g=void 0),this.#E=!!this.#s,this.#p=!!this.#i,this.noDisposeOnSet=!!f,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!E,this.allowStaleOnFetchAbort=!!k,this.ignoreFetchAbort=!!_,this.maxEntrySize!==0){if(this.#e!==0&&!nt(this.#e))throw new TypeError("maxSize must be a positive integer if specified");if(!nt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#C()}if(this.allowStale=!!h,this.noDeleteOnStaleGet=!!y,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=nt(n)||n===0?n:1,this.ttlAutopurge=!!r,this.ttl=s||0,this.ttl){if(!nt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#P()}if(this.#t===0&&this.ttl===0&&this.#e===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#e){let B="LRU_CACHE_UNBOUNDED";bh(B)&&(qn.add(B),Gn("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",B,i))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#P(){let t=new pt(this.#t),e=new pt(this.#t);this.#b=t,this.#x=e,this.#R=(r,o,a=dt.now())=>{if(e[r]=o!==0?a:0,t[r]=o,o!==0&&this.ttlAutopurge){let h=setTimeout(()=>{this.#y(r)&&this.#j(this.#h[r],"expire")},o+1);h.unref&&h.unref()}},this.#A=r=>{e[r]=t[r]!==0?dt.now():0},this.#n=(r,o)=>{if(t[o]){let a=t[o],h=e[o];if(!a||!h)return;r.ttl=a,r.start=h,r.now=s||n();let c=r.now-h;r.remainingTTL=a-c}};let s=0,n=()=>{let r=dt.now();if(this.ttlResolution>0){s=r;let o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return r};this.getRemainingTTL=r=>{let o=this.#a.get(r);if(o===void 0)return 0;let a=t[o],h=e[o];if(!a||!h)return 1/0;let c=(s||n())-h;return a-c},this.#y=r=>{let o=e[r],a=t[r];return!!a&&!!o&&(s||n())-o>a}}#A=()=>{};#n=()=>{};#R=()=>{};#y=()=>!1;#C(){let t=new pt(this.#t);this.#f=0,this.#O=t,this.#N=e=>{this.#f-=t[e],t[e]=0},this.#D=(e,s,n,r)=>{if(this.#l(s))return 0;if(!nt(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(s,e),!nt(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return n},this.#M=(e,s,n)=>{if(t[e]=s,this.#e){let r=this.#e-t[e];for(;this.#f>r;)this.#L(!0)}this.#f+=t[e],n&&(n.entrySize=s,n.totalCalculatedSize=this.#f)}}#N=t=>{};#M=(t,e,s)=>{};#D=(t,e,s,n)=>{if(s||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#k({allowStale:t=this.allowStale}={}){if(this.#c)for(let e=this.#u;!(!this.#F(e)||((t||!this.#y(e))&&(yield e),e===this.#d));)e=this.#w[e]}*#T({allowStale:t=this.allowStale}={}){if(this.#c)for(let e=this.#d;!(!this.#F(e)||((t||!this.#y(e))&&(yield e),e===this.#u));)e=this.#m[e]}#F(t){return t!==void 0&&this.#a.get(this.#h[t])===t}*entries(){for(let t of this.#k())this.#r[t]!==void 0&&this.#h[t]!==void 0&&!this.#l(this.#r[t])&&(yield[this.#h[t],this.#r[t]])}*rentries(){for(let t of this.#T())this.#r[t]!==void 0&&this.#h[t]!==void 0&&!this.#l(this.#r[t])&&(yield[this.#h[t],this.#r[t]])}*keys(){for(let t of this.#k()){let e=this.#h[t];e!==void 0&&!this.#l(this.#r[t])&&(yield e)}}*rkeys(){for(let t of this.#T()){let e=this.#h[t];e!==void 0&&!this.#l(this.#r[t])&&(yield e)}}*values(){for(let t of this.#k())this.#r[t]!==void 0&&!this.#l(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(let t of this.#T())this.#r[t]!==void 0&&!this.#l(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(let s of this.#k()){let n=this.#r[s],r=this.#l(n)?n.__staleWhileFetching:n;if(r!==void 0&&t(r,this.#h[s],this))return this.get(this.#h[s],e)}}forEach(t,e=this){for(let s of this.#k()){let n=this.#r[s],r=this.#l(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#h[s],this)}}rforEach(t,e=this){for(let s of this.#T()){let n=this.#r[s],r=this.#l(n)?n.__staleWhileFetching:n;r!==void 0&&t.call(e,r,this.#h[s],this)}}purgeStale(){let t=!1;for(let e of this.#T({allowStale:!0}))this.#y(e)&&(this.#j(this.#h[e],"expire"),t=!0);return t}info(t){let e=this.#a.get(t);if(e===void 0)return;let s=this.#r[e],n=this.#l(s)?s.__staleWhileFetching:s;if(n===void 0)return;let r={value:n};if(this.#b&&this.#x){let o=this.#b[e],a=this.#x[e];if(o&&a){let h=o-(dt.now()-a);r.ttl=h,r.start=Date.now()}}return this.#O&&(r.size=this.#O[e]),r}dump(){let t=[];for(let e of this.#k({allowStale:!0})){let s=this.#h[e],n=this.#r[e],r=this.#l(n)?n.__staleWhileFetching:n;if(r===void 0||s===void 0)continue;let o={value:r};if(this.#b&&this.#x){o.ttl=this.#b[e];let a=dt.now()-this.#x[e];o.start=Math.floor(Date.now()-a)}this.#O&&(o.size=this.#O[e]),t.unshift([s,o])}return t}load(t){this.clear();for(let[e,s]of t){if(s.start){let n=Date.now()-s.start;s.start=dt.now()-n}this.set(e,s.value,s)}}set(t,e,s={}){if(e===void 0)return this.delete(t),this;let{ttl:n=this.ttl,start:r,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:a=this.sizeCalculation,status:h}=s,{noUpdateTTL:c=this.noUpdateTTL}=s,l=this.#D(t,e,s.size||0,a);if(this.maxEntrySize&&l>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.#j(t,"set"),this;let f=this.#c===0?void 0:this.#a.get(t);if(f===void 0)f=this.#c===0?this.#u:this.#_.length!==0?this.#_.pop():this.#c===this.#t?this.#L(!1):this.#c,this.#h[f]=t,this.#r[f]=e,this.#a.set(t,f),this.#m[this.#u]=f,this.#w[f]=this.#u,this.#u=f,this.#c++,this.#M(f,l,h),h&&(h.set="add"),c=!1;else{this.#I(f);let d=this.#r[f];if(e!==d){if(this.#v&&this.#l(d)){d.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:u}=d;u!==void 0&&!o&&(this.#E&&this.#s?.(u,t,"set"),this.#p&&this.#g?.push([u,t,"set"]))}else o||(this.#E&&this.#s?.(d,t,"set"),this.#p&&this.#g?.push([d,t,"set"]));if(this.#N(f),this.#M(f,l,h),this.#r[f]=e,h){h.set="replace";let u=d&&this.#l(d)?d.__staleWhileFetching:d;u!==void 0&&(h.oldValue=u)}}else h&&(h.set="update")}if(n!==0&&!this.#b&&this.#P(),this.#b&&(c||this.#R(f,n,r),h&&this.#n(h,f)),!o&&this.#p&&this.#g){let d=this.#g,u;for(;u=d?.shift();)this.#i?.(...u)}return this}pop(){try{for(;this.#c;){let t=this.#r[this.#d];if(this.#L(!0),this.#l(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(t!==void 0)return t}}finally{if(this.#p&&this.#g){let t=this.#g,e;for(;e=t?.shift();)this.#i?.(...e)}}}#L(t){let e=this.#d,s=this.#h[e],n=this.#r[e];return this.#v&&this.#l(n)?n.__abortController.abort(new Error("evicted")):(this.#E||this.#p)&&(this.#E&&this.#s?.(n,s,"evict"),this.#p&&this.#g?.push([n,s,"evict"])),this.#N(e),t&&(this.#h[e]=void 0,this.#r[e]=void 0,this.#_.push(e)),this.#c===1?(this.#d=this.#u=0,this.#_.length=0):this.#d=this.#m[e],this.#a.delete(s),this.#c--,e}has(t,e={}){let{updateAgeOnHas:s=this.updateAgeOnHas,status:n}=e,r=this.#a.get(t);if(r!==void 0){let o=this.#r[r];if(this.#l(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#y(r))n&&(n.has="stale",this.#n(n,r));else return s&&this.#A(r),n&&(n.has="hit",this.#n(n,r)),!0}else n&&(n.has="miss");return!1}peek(t,e={}){let{allowStale:s=this.allowStale}=e,n=this.#a.get(t);if(n===void 0||!s&&this.#y(n))return;let r=this.#r[n];return this.#l(r)?r.__staleWhileFetching:r}#$(t,e,s,n){let r=e===void 0?void 0:this.#r[e];if(this.#l(r))return r;let o=new oe,{signal:a}=s;a?.addEventListener("abort",()=>o.abort(a.reason),{signal:o.signal});let h={signal:o.signal,options:s,context:n},c=(p,g=!1)=>{let{aborted:w}=o.signal,S=s.ignoreFetchAbort&&p!==void 0;if(s.status&&(w&&!g?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,S&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),w&&!S&&!g)return f(o.signal.reason);let y=u;return this.#r[e]===u&&(p===void 0?y.__staleWhileFetching?this.#r[e]=y.__staleWhileFetching:this.#j(t,"fetch"):(s.status&&(s.status.fetchUpdated=!0),this.set(t,p,h.options))),p},l=p=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=p),f(p)),f=p=>{let{aborted:g}=o.signal,w=g&&s.allowStaleOnFetchAbort,S=w||s.allowStaleOnFetchRejection,y=S||s.noDeleteOnFetchRejection,E=u;if(this.#r[e]===u&&(!y||E.__staleWhileFetching===void 0?this.#j(t,"fetch"):w||(this.#r[e]=E.__staleWhileFetching)),S)return s.status&&E.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),E.__staleWhileFetching;if(E.__returned===E)throw p},d=(p,g)=>{let w=this.#o?.(t,r,h);w&&w instanceof Promise&&w.then(S=>p(S===void 0?void 0:S),g),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(p(void 0),s.allowStaleOnFetchAbort&&(p=S=>c(S,!0)))})};s.status&&(s.status.fetchDispatched=!0);let u=new Promise(d).then(c,l),m=Object.assign(u,{__abortController:o,__staleWhileFetching:r,__returned:void 0});return e===void 0?(this.set(t,m,{...h.options,status:void 0}),e=this.#a.get(t)):this.#r[e]=m,m}#l(t){if(!this.#v)return!1;let e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof oe}async fetch(t,e={}){let{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:a=this.noDisposeOnSet,size:h=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:f=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:u=this.ignoreFetchAbort,allowStaleOnFetchAbort:m=this.allowStaleOnFetchAbort,context:p,forceRefresh:g=!1,status:w,signal:S}=e;if(!this.#v)return w&&(w.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,status:w});let y={allowStale:s,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:o,noDisposeOnSet:a,size:h,sizeCalculation:c,noUpdateTTL:l,noDeleteOnFetchRejection:f,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:m,ignoreFetchAbort:u,status:w,signal:S},E=this.#a.get(t);if(E===void 0){w&&(w.fetch="miss");let k=this.#$(t,E,y,p);return k.__returned=k}else{let k=this.#r[E];if(this.#l(k)){let O=s&&k.__staleWhileFetching!==void 0;return w&&(w.fetch="inflight",O&&(w.returnedStale=!0)),O?k.__staleWhileFetching:k.__returned=k}let _=this.#y(E);if(!g&&!_)return w&&(w.fetch="hit"),this.#I(E),n&&this.#A(E),w&&this.#n(w,E),k;let j=this.#$(t,E,y,p),P=j.__staleWhileFetching!==void 0&&s;return w&&(w.fetch=_?"stale":"refresh",P&&_&&(w.returnedStale=!0)),P?j.__staleWhileFetching:j.__returned=j}}async forceFetch(t,e={}){let s=await this.fetch(t,e);if(s===void 0)throw new Error("fetch() returned undefined");return s}memo(t,e={}){let s=this.#S;if(!s)throw new Error("no memoMethod provided to constructor");let{context:n,forceRefresh:r,...o}=e,a=this.get(t,o);if(!r&&a!==void 0)return a;let h=s(t,a,{options:o,context:n});return this.set(t,h,o),h}get(t,e={}){let{allowStale:s=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:o}=e,a=this.#a.get(t);if(a!==void 0){let h=this.#r[a],c=this.#l(h);return o&&this.#n(o,a),this.#y(a)?(o&&(o.get="stale"),c?(o&&s&&h.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?h.__staleWhileFetching:void 0):(r||this.#j(t,"expire"),o&&s&&(o.returnedStale=!0),s?h:void 0)):(o&&(o.get="hit"),c?h.__staleWhileFetching:(this.#I(a),n&&this.#A(a),h))}else o&&(o.get="miss")}#W(t,e){this.#w[e]=t,this.#m[t]=e}#I(t){t!==this.#u&&(t===this.#d?this.#d=this.#m[t]:this.#W(this.#w[t],this.#m[t]),this.#W(this.#u,t),this.#u=t)}delete(t){return this.#j(t,"delete")}#j(t,e){let s=!1;if(this.#c!==0){let n=this.#a.get(t);if(n!==void 0)if(s=!0,this.#c===1)this.#B(e);else{this.#N(n);let r=this.#r[n];if(this.#l(r)?r.__abortController.abort(new Error("deleted")):(this.#E||this.#p)&&(this.#E&&this.#s?.(r,t,e),this.#p&&this.#g?.push([r,t,e])),this.#a.delete(t),this.#h[n]=void 0,this.#r[n]=void 0,n===this.#u)this.#u=this.#w[n];else if(n===this.#d)this.#d=this.#m[n];else{let o=this.#w[n];this.#m[o]=this.#m[n];let a=this.#m[n];this.#w[a]=this.#w[n]}this.#c--,this.#_.push(n)}}if(this.#p&&this.#g?.length){let n=this.#g,r;for(;r=n?.shift();)this.#i?.(...r)}return s}clear(){return this.#B("delete")}#B(t){for(let e of this.#T({allowStale:!0})){let s=this.#r[e];if(this.#l(s))s.__abortController.abort(new Error("deleted"));else{let n=this.#h[e];this.#E&&this.#s?.(s,n,t),this.#p&&this.#g?.push([s,n,t])}}if(this.#a.clear(),this.#r.fill(void 0),this.#h.fill(void 0),this.#b&&this.#x&&(this.#b.fill(0),this.#x.fill(0)),this.#O&&this.#O.fill(0),this.#d=0,this.#u=0,this.#_.length=0,this.#f=0,this.#c=0,this.#p&&this.#g){let e=this.#g,s;for(;s=e?.shift();)this.#i?.(...s)}}};ae.LRUCache=ds});var Es=v(I=>{"use strict";var Sh=I&&I.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(I,"__esModule",{value:!0});I.Minipass=I.isWritable=I.isReadable=I.isStream=void 0;var Hn=typeof process=="object"&&process?process:{stdout:null,stderr:null},Ss=A("events"),Yn=Sh(A("stream")),Eh=A("string_decoder"),vh=i=>!!i&&typeof i=="object"&&(i instanceof pe||i instanceof Yn.default||(0,I.isReadable)(i)||(0,I.isWritable)(i));I.isStream=vh;var _h=i=>!!i&&typeof i=="object"&&i instanceof Ss.EventEmitter&&typeof i.pipe=="function"&&i.pipe!==Yn.default.Writable.prototype.pipe;I.isReadable=_h;var Oh=i=>!!i&&typeof i=="object"&&i instanceof Ss.EventEmitter&&typeof i.write=="function"&&typeof i.end=="function";I.isWritable=Oh;var st=Symbol("EOF"),it=Symbol("maybeEmitEnd"),rt=Symbol("emittedEnd"),he=Symbol("emittingEnd"),vt=Symbol("emittedError"),ce=Symbol("closed"),Kn=Symbol("read"),le=Symbol("flush"),Vn=Symbol("flushChunk"),K=Symbol("encoding"),gt=Symbol("decoder"),M=Symbol("flowing"),_t=Symbol("paused"),mt=Symbol("resume"),D=Symbol("buffer"),W=Symbol("pipes"),F=Symbol("bufferLength"),ps=Symbol("bufferPush"),fe=Symbol("bufferShift"),$=Symbol("objectMode"),R=Symbol("destroyed"),gs=Symbol("error"),ms=Symbol("emitData"),Jn=Symbol("emitEnd"),ws=Symbol("emitEnd2"),Y=Symbol("async"),ys=Symbol("abort"),ue=Symbol("aborted"),Ot=Symbol("signal"),ct=Symbol("dataListeners"),G=Symbol("discarded"),xt=i=>Promise.resolve().then(i),xh=i=>i(),Ah=i=>i==="end"||i==="finish"||i==="prefinish",kh=i=>i instanceof ArrayBuffer||!!i&&typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,Th=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i),de=class{src;dest;opts;ondrain;constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[mt](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},bs=class extends de{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=n=>e.emit("error",n),t.on("error",this.proxyErrors)}},Ph=i=>!!i.objectMode,Ch=i=>!i.objectMode&&!!i.encoding&&i.encoding!=="buffer",pe=class extends Ss.EventEmitter{[M]=!1;[_t]=!1;[W]=[];[D]=[];[$];[K];[Y];[gt];[st]=!1;[rt]=!1;[he]=!1;[ce]=!1;[vt]=null;[F]=0;[R]=!1;[Ot];[ue]=!1;[ct]=0;[G]=!1;writable=!0;readable=!0;constructor(...t){let e=t[0]||{};if(super(),e.objectMode&&typeof e.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");Ph(e)?(this[$]=!0,this[K]=null):Ch(e)?(this[K]=e.encoding,this[$]=!1):(this[$]=!1,this[K]=null),this[Y]=!!e.async,this[gt]=this[K]?new Eh.StringDecoder(this[K]):null,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[D]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[W]});let{signal:s}=e;s&&(this[Ot]=s,s.aborted?this[ys]():s.addEventListener("abort",()=>this[ys]()))}get bufferLength(){return this[F]}get encoding(){return this[K]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[$]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[Y]}set async(t){this[Y]=this[Y]||!!t}[ys](){this[ue]=!0,this.emit("abort",this[Ot]?.reason),this.destroy(this[Ot]?.reason)}get aborted(){return this[ue]}set aborted(t){}write(t,e,s){if(this[ue])return!1;if(this[st])throw new Error("write after end");if(this[R])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");let n=this[Y]?xt:xh;if(!this[$]&&!Buffer.isBuffer(t)){if(Th(t))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if(kh(t))t=Buffer.from(t);else if(typeof t!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[$]?(this[M]&&this[F]!==0&&this[le](!0),this[M]?this.emit("data",t):this[ps](t),this[F]!==0&&this.emit("readable"),s&&n(s),this[M]):t.length?(typeof t=="string"&&!(e===this[K]&&!this[gt]?.lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[K]&&(t=this[gt].write(t)),this[M]&&this[F]!==0&&this[le](!0),this[M]?this.emit("data",t):this[ps](t),this[F]!==0&&this.emit("readable"),s&&n(s),this[M]):(this[F]!==0&&this.emit("readable"),s&&n(s),this[M])}read(t){if(this[R])return null;if(this[G]=!1,this[F]===0||t===0||t&&t>this[F])return this[it](),null;this[$]&&(t=null),this[D].length>1&&!this[$]&&(this[D]=[this[K]?this[D].join(""):Buffer.concat(this[D],this[F])]);let e=this[Kn](t||null,this[D][0]);return this[it](),e}[Kn](t,e){if(this[$])this[fe]();else{let s=e;t===s.length||t===null?this[fe]():typeof s=="string"?(this[D][0]=s.slice(t),e=s.slice(0,t),this[F]-=t):(this[D][0]=s.subarray(t),e=s.subarray(0,t),this[F]-=t)}return this.emit("data",e),!this[D].length&&!this[st]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=void 0),typeof e=="function"&&(s=e,e="utf8"),t!==void 0&&this.write(t,e),s&&this.once("end",s),this[st]=!0,this.writable=!1,(this[M]||!this[_t])&&this[it](),this}[mt](){this[R]||(!this[ct]&&!this[W].length&&(this[G]=!0),this[_t]=!1,this[M]=!0,this.emit("resume"),this[D].length?this[le]():this[st]?this[it]():this.emit("drain"))}resume(){return this[mt]()}pause(){this[M]=!1,this[_t]=!0,this[G]=!1}get destroyed(){return this[R]}get flowing(){return this[M]}get paused(){return this[_t]}[ps](t){this[$]?this[F]+=1:this[F]+=t.length,this[D].push(t)}[fe](){return this[$]?this[F]-=1:this[F]-=this[D][0].length,this[D].shift()}[le](t=!1){do;while(this[Vn](this[fe]())&&this[D].length);!t&&!this[D].length&&!this[st]&&this.emit("drain")}[Vn](t){return this.emit("data",t),this[M]}pipe(t,e){if(this[R])return t;this[G]=!1;let s=this[rt];return e=e||{},t===Hn.stdout||t===Hn.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[W].push(e.proxyErrors?new bs(this,t,e):new de(this,t,e)),this[Y]?xt(()=>this[mt]()):this[mt]()),t}unpipe(t){let e=this[W].find(s=>s.dest===t);e&&(this[W].length===1?(this[M]&&this[ct]===0&&(this[M]=!1),this[W]=[]):this[W].splice(this[W].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let s=super.on(t,e);if(t==="data")this[G]=!1,this[ct]++,!this[W].length&&!this[M]&&this[mt]();else if(t==="readable"&&this[F]!==0)super.emit("readable");else if(Ah(t)&&this[rt])super.emit(t),this.removeAllListeners(t);else if(t==="error"&&this[vt]){let n=e;this[Y]?xt(()=>n.call(this,this[vt])):n.call(this,this[vt])}return s}removeListener(t,e){return this.off(t,e)}off(t,e){let s=super.off(t,e);return t==="data"&&(this[ct]=this.listeners("data").length,this[ct]===0&&!this[G]&&!this[W].length&&(this[M]=!1)),s}removeAllListeners(t){let e=super.removeAllListeners(t);return(t==="data"||t===void 0)&&(this[ct]=0,!this[G]&&!this[W].length&&(this[M]=!1)),e}get emittedEnd(){return this[rt]}[it](){!this[he]&&!this[rt]&&!this[R]&&this[D].length===0&&this[st]&&(this[he]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ce]&&this.emit("close"),this[he]=!1)}emit(t,...e){let s=e[0];if(t!=="error"&&t!=="close"&&t!==R&&this[R])return!1;if(t==="data")return!this[$]&&!s?!1:this[Y]?(xt(()=>this[ms](s)),!0):this[ms](s);if(t==="end")return this[Jn]();if(t==="close"){if(this[ce]=!0,!this[rt]&&!this[R])return!1;let r=super.emit("close");return this.removeAllListeners("close"),r}else if(t==="error"){this[vt]=s,super.emit(gs,s);let r=!this[Ot]||this.listeners("error").length?super.emit("error",s):!1;return this[it](),r}else if(t==="resume"){let r=super.emit("resume");return this[it](),r}else if(t==="finish"||t==="prefinish"){let r=super.emit(t);return this.removeAllListeners(t),r}let n=super.emit(t,...e);return this[it](),n}[ms](t){for(let s of this[W])s.dest.write(t)===!1&&this.pause();let e=this[G]?!1:super.emit("data",t);return this[it](),e}[Jn](){return this[rt]?!1:(this[rt]=!0,this.readable=!1,this[Y]?(xt(()=>this[ws]()),!0):this[ws]())}[ws](){if(this[gt]){let e=this[gt].end();if(e){for(let s of this[W])s.dest.write(e);this[G]||super.emit("data",e)}}for(let e of this[W])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){let t=Object.assign([],{dataLength:0});this[$]||(t.dataLength=0);let e=this.promise();return this.on("data",s=>{t.push(s),this[$]||(t.dataLength+=s.length)}),await e,t}async concat(){if(this[$])throw new Error("cannot concat in objectMode");let t=await this.collect();return this[K]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise((t,e)=>{this.on(R,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[Symbol.asyncIterator](){this[G]=!1;let t=!1,e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[st])return e();let r,o,a=f=>{this.off("data",h),this.off("end",c),this.off(R,l),e(),o(f)},h=f=>{this.off("error",a),this.off("end",c),this.off(R,l),this.pause(),r({value:f,done:!!this[st]})},c=()=>{this.off("error",a),this.off("data",h),this.off(R,l),e(),r({done:!0,value:void 0})},l=()=>a(new Error("stream destroyed"));return new Promise((f,d)=>{o=d,r=f,this.once(R,l),this.once("error",a),this.once("end",c),this.once("data",h)})},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[G]=!1;let t=!1,e=()=>(this.pause(),this.off(gs,e),this.off(R,e),this.off("end",e),t=!0,{done:!0,value:void 0}),s=()=>{if(t)return e();let n=this.read();return n===null?e():{done:!1,value:n}};return this.once("end",e),this.once(gs,e),this.once(R,e),{next:s,throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){if(this[R])return t?this.emit("error",t):this.emit(R),this;this[R]=!0,this[G]=!0,this[D].length=0,this[F]=0;let e=this;return typeof e.close=="function"&&!this[ce]&&e.close(),t?this.emit("error",t):this.emit(R),this}static get isStream(){return I.isStream}};I.Minipass=pe});var fr=v(T=>{"use strict";var jh=T&&T.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),Rh=T&&T.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Nh=T&&T.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&jh(t,i,e);return Rh(t,i),t};Object.defineProperty(T,"__esModule",{value:!0});T.PathScurry=T.Path=T.PathScurryDarwin=T.PathScurryPosix=T.PathScurryWin32=T.PathScurryBase=T.PathPosix=T.PathWin32=T.PathBase=T.ChildrenCache=T.ResolveCache=void 0;var sr=zn(),be=A("path"),Mh=A("url"),kt=A("fs"),Dh=Nh(A("fs")),Fh=kt.realpathSync.native,ge=A("fs/promises"),Xn=Es(),Tt={lstatSync:kt.lstatSync,readdir:kt.readdir,readdirSync:kt.readdirSync,readlinkSync:kt.readlinkSync,realpathSync:Fh,promises:{lstat:ge.lstat,readdir:ge.readdir,readlink:ge.readlink,realpath:ge.realpath}},ir=i=>!i||i===Tt||i===Dh?Tt:{...Tt,...i,promises:{...Tt.promises,...i.promises||{}}},nr=/^\\\\\?\\([a-z]:)\\?$/i,Lh=i=>i.replace(/\//g,"\\").replace(nr,"$1\\"),$h=/[\\\/]/,H=0,rr=1,or=2,X=4,ar=6,hr=8,lt=10,cr=12,z=15,At=~z,vs=16,Zn=32,Pt=64,V=128,me=256,ye=512,Qn=Pt|V|ye,Wh=1023,_s=i=>i.isFile()?hr:i.isDirectory()?X:i.isSymbolicLink()?lt:i.isCharacterDevice()?or:i.isBlockDevice()?ar:i.isSocket()?cr:i.isFIFO()?rr:H,tr=new Map,Ct=i=>{let t=tr.get(i);if(t)return t;let e=i.normalize("NFKD");return tr.set(i,e),e},er=new Map,we=i=>{let t=er.get(i);if(t)return t;let e=Ct(i.toLowerCase());return er.set(i,e),e},jt=class extends sr.LRUCache{constructor(){super({max:256})}};T.ResolveCache=jt;var Se=class extends sr.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}};T.ChildrenCache=Se;var lr=Symbol("PathScurry setAsCwd"),L=class{name;root;roots;parent;nocase;isCWD=!1;#t;#e;get dev(){return this.#e}#s;get mode(){return this.#s}#i;get nlink(){return this.#i}#o;get uid(){return this.#o}#S;get gid(){return this.#S}#c;get rdev(){return this.#c}#f;get blksize(){return this.#f}#a;get ino(){return this.#a}#h;get size(){return this.#h}#r;get blocks(){return this.#r}#m;get atimeMs(){return this.#m}#w;get mtimeMs(){return this.#w}#d;get ctimeMs(){return this.#d}#u;get birthtimeMs(){return this.#u}#_;get atime(){return this.#_}#g;get mtime(){return this.#g}#O;get ctime(){return this.#O}#x;get birthtime(){return this.#x}#b;#E;#v;#p;#P;#A;#n;#R;#y;#C;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=H,s,n,r,o,a){this.name=t,this.#b=r?we(t):Ct(t),this.#n=e&Wh,this.nocase=r,this.roots=n,this.root=s||this,this.#R=o,this.#v=a.fullpath,this.#P=a.relative,this.#A=a.relativePosix,this.parent=a.parent,this.parent?this.#t=this.parent.#t:this.#t=ir(a.fs)}depth(){return this.#E!==void 0?this.#E:this.parent?this.#E=this.parent.depth()+1:this.#E=0}childrenCache(){return this.#R}resolve(t){if(!t)return this;let e=this.getRootString(t),n=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#N(n):this.#N(n)}#N(t){let e=this;for(let s of t)e=e.child(s);return e}children(){let t=this.#R.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#R.set(this,e),this.#n&=~vs,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let s=this.children(),n=this.nocase?we(t):Ct(t);for(let h of s)if(h.#b===n)return h;let r=this.parent?this.sep:"",o=this.#v?this.#v+r+t:void 0,a=this.newChild(t,H,{...e,parent:this,fullpath:o});return this.canReaddir()||(a.#n|=V),s.push(a),a}relative(){if(this.isCWD)return"";if(this.#P!==void 0)return this.#P;let t=this.name,e=this.parent;if(!e)return this.#P=this.name;let s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#A!==void 0)return this.#A;let t=this.name,e=this.parent;if(!e)return this.#A=this.fullpathPosix();let s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#v!==void 0)return this.#v;let t=this.name,e=this.parent;if(!e)return this.#v=this.name;let n=e.fullpath()+(e.parent?this.sep:"")+t;return this.#v=n}fullpathPosix(){if(this.#p!==void 0)return this.#p;if(this.sep==="/")return this.#p=this.fullpath();if(!this.parent){let n=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(n)?this.#p=`//?/${n}`:this.#p=n}let t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#p=s}isUnknown(){return(this.#n&z)===H}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#n&z)===hr}isDirectory(){return(this.#n&z)===X}isCharacterDevice(){return(this.#n&z)===or}isBlockDevice(){return(this.#n&z)===ar}isFIFO(){return(this.#n&z)===rr}isSocket(){return(this.#n&z)===cr}isSymbolicLink(){return(this.#n&lt)===lt}lstatCached(){return this.#n&Zn?this:void 0}readlinkCached(){return this.#y}realpathCached(){return this.#C}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#y)return!0;if(!this.parent)return!1;let t=this.#n&z;return!(t!==H&&t!==lt||this.#n&me||this.#n&V)}calledReaddir(){return!!(this.#n&vs)}isENOENT(){return!!(this.#n&V)}isNamed(t){return this.nocase?this.#b===we(t):this.#b===Ct(t)}async readlink(){let t=this.#y;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=await this.#t.promises.readlink(this.fullpath()),s=(await this.parent.realpath())?.resolve(e);if(s)return this.#y=s}catch(e){this.#l(e.code);return}}readlinkSync(){let t=this.#y;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=this.#t.readlinkSync(this.fullpath()),s=this.parent.realpathSync()?.resolve(e);if(s)return this.#y=s}catch(e){this.#l(e.code);return}}#M(t){this.#n|=vs;for(let e=t.provisional;e<t.length;e++){let s=t[e];s&&s.#D()}}#D(){this.#n&V||(this.#n=(this.#n|V)&At,this.#k())}#k(){let t=this.children();t.provisional=0;for(let e of t)e.#D()}#T(){this.#n|=ye,this.#F()}#F(){if(this.#n&Pt)return;let t=this.#n;(t&z)===X&&(t&=At),this.#n=t|Pt,this.#k()}#L(t=""){t==="ENOTDIR"||t==="EPERM"?this.#F():t==="ENOENT"?this.#D():this.children().provisional=0}#$(t=""){t==="ENOTDIR"?this.parent.#F():t==="ENOENT"&&this.#D()}#l(t=""){let e=this.#n;e|=me,t==="ENOENT"&&(e|=V),(t==="EINVAL"||t==="UNKNOWN")&&(e&=At),this.#n=e,t==="ENOTDIR"&&this.parent&&this.parent.#F()}#W(t,e){return this.#j(t,e)||this.#I(t,e)}#I(t,e){let s=_s(t),n=this.newChild(t.name,s,{parent:this}),r=n.#n&z;return r!==X&&r!==lt&&r!==H&&(n.#n|=Pt),e.unshift(n),e.provisional++,n}#j(t,e){for(let s=e.provisional;s<e.length;s++){let n=e[s];if((this.nocase?we(t.name):Ct(t.name))===n.#b)return this.#B(t,n,s,e)}}#B(t,e,s,n){let r=e.name;return e.#n=e.#n&At|_s(t),r!==t.name&&(e.name=t.name),s!==n.provisional&&(s===n.length-1?n.pop():n.splice(s,1),n.unshift(e)),n.provisional++,e}async lstat(){if(!(this.#n&V))try{return this.#z(await this.#t.promises.lstat(this.fullpath())),this}catch(t){this.#$(t.code)}}lstatSync(){if(!(this.#n&V))try{return this.#z(this.#t.lstatSync(this.fullpath())),this}catch(t){this.#$(t.code)}}#z(t){let{atime:e,atimeMs:s,birthtime:n,birthtimeMs:r,blksize:o,blocks:a,ctime:h,ctimeMs:c,dev:l,gid:f,ino:d,mode:u,mtime:m,mtimeMs:p,nlink:g,rdev:w,size:S,uid:y}=t;this.#_=e,this.#m=s,this.#x=n,this.#u=r,this.#f=o,this.#r=a,this.#O=h,this.#d=c,this.#e=l,this.#S=f,this.#a=d,this.#s=u,this.#g=m,this.#w=p,this.#i=g,this.#c=w,this.#h=S,this.#o=y;let E=_s(t);this.#n=this.#n&At|E|Zn,E!==H&&E!==X&&E!==lt&&(this.#n|=Pt)}#G=[];#U=!1;#H(t){this.#U=!1;let e=this.#G.slice();this.#G.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let s=this.children();if(this.calledReaddir()){let r=s.slice(0,s.provisional);e?t(null,r):queueMicrotask(()=>t(null,r));return}if(this.#G.push(t),this.#U)return;this.#U=!0;let n=this.fullpath();this.#t.readdir(n,{withFileTypes:!0},(r,o)=>{if(r)this.#L(r.code),s.provisional=0;else{for(let a of o)this.#W(a,s);this.#M(s)}this.#H(s.slice(0,s.provisional))})}#q;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#q)await this.#q;else{let s=()=>{};this.#q=new Promise(n=>s=n);try{for(let n of await this.#t.promises.readdir(e,{withFileTypes:!0}))this.#W(n,t);this.#M(t)}catch(n){this.#L(n.code),t.provisional=0}this.#q=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let s of this.#t.readdirSync(e,{withFileTypes:!0}))this.#W(s,t);this.#M(t)}catch(s){this.#L(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#n&Qn)return!1;let t=z&this.#n;return t===H||t===X||t===lt}shouldWalk(t,e){return(this.#n&X)===X&&!(this.#n&Qn)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#C)return this.#C;if(!((ye|me|V)&this.#n))try{let t=await this.#t.promises.realpath(this.fullpath());return this.#C=this.resolve(t)}catch{this.#T()}}realpathSync(){if(this.#C)return this.#C;if(!((ye|me|V)&this.#n))try{let t=this.#t.realpathSync(this.fullpath());return this.#C=this.resolve(t)}catch{this.#T()}}[lr](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;let e=new Set([]),s=[],n=this;for(;n&&n.parent;)e.add(n),n.#P=s.join(this.sep),n.#A=s.join("/"),n=n.parent,s.push("..");for(n=t;n&&n.parent&&!e.has(n);)n.#P=void 0,n.#A=void 0,n=n.parent}};T.PathBase=L;var Rt=class i extends L{sep="\\";splitSep=$h;constructor(t,e=H,s,n,r,o,a){super(t,e,s,n,r,o,a)}newChild(t,e=H,s={}){return new i(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return be.win32.parse(t).root}getRoot(t){if(t=Lh(t.toUpperCase()),t===this.root.name)return this.root;for(let[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new Dt(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(nr,"$1\\"),t===e}};T.PathWin32=Rt;var Nt=class i extends L{splitSep="/";sep="/";constructor(t,e=H,s,n,r,o,a){super(t,e,s,n,r,o,a)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=H,s={}){return new i(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}};T.PathPosix=Nt;var Mt=class{root;rootPath;roots;cwd;#t;#e;#s;nocase;#i;constructor(t=process.cwd(),e,s,{nocase:n,childrenCacheSize:r=16*1024,fs:o=Tt}={}){this.#i=ir(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Mh.fileURLToPath)(t));let a=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(a),this.#t=new jt,this.#e=new jt,this.#s=new Se(r);let h=a.substring(this.rootPath.length).split(s);if(h.length===1&&!h[0]&&h.pop(),n===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let c=this.root,l=h.length-1,f=e.sep,d=this.rootPath,u=!1;for(let m of h){let p=l--;c=c.child(m,{relative:new Array(p).fill("..").join(f),relativePosix:new Array(p).fill("..").join("/"),fullpath:d+=(u?"":f)+m}),u=!0}this.cwd=c}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#s}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){let o=t[r];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let s=this.#t.get(e);if(s!==void 0)return s;let n=this.cwd.resolve(e).fullpath();return this.#t.set(e,n),n}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){let o=t[r];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let s=this.#e.get(e);if(s!==void 0)return s;let n=this.cwd.resolve(e).fullpathPosix();return this.#e.set(e,n),n}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);let{withFileTypes:s}=e;if(t.canReaddir()){let n=await t.readdir();return s?n:n.map(r=>r.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);let{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(n=>n.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t.withFileTypes,t=this.cwd);let s=await t.readlink();return e?s:s?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t.withFileTypes,t=this.cwd);let s=t.readlinkSync();return e?s:s?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t.withFileTypes,t=this.cwd);let s=await t.realpath();return e?s:s?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t.withFileTypes,t=this.cwd);let s=t.realpathSync();return e?s:s?.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:o}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());let h=new Set,c=(f,d)=>{h.add(f),f.readdirCB((u,m)=>{if(u)return d(u);let p=m.length;if(!p)return d();let g=()=>{--p===0&&d()};for(let w of m)(!r||r(w))&&a.push(s?w:w.fullpath()),n&&w.isSymbolicLink()?w.realpath().then(S=>S?.isUnknown()?S.lstat():S).then(S=>S?.shouldWalk(h,o)?c(S,g):g()):w.shouldWalk(h,o)?c(w,g):g()},!0)},l=t;return new Promise((f,d)=>{c(l,u=>{if(u)return d(u);f(a)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:o}=e,a=[];(!r||r(t))&&a.push(s?t:t.fullpath());let h=new Set([t]);for(let c of h){let l=c.readdirSync();for(let f of l){(!r||r(f))&&a.push(s?f:f.fullpath());let d=f;if(f.isSymbolicLink()){if(!(n&&(d=f.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(h,o)&&h.add(d)}}return a}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:o}=e;(!r||r(t))&&(yield s?t:t.fullpath());let a=new Set([t]);for(let h of a){let c=h.readdirSync();for(let l of c){(!r||r(l))&&(yield s?l:l.fullpath());let f=l;if(l.isSymbolicLink()){if(!(n&&(f=l.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(a,o)&&a.add(f)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:o}=e,a=new Xn.Minipass({objectMode:!0});(!r||r(t))&&a.write(s?t:t.fullpath());let h=new Set,c=[t],l=0,f=()=>{let d=!1;for(;!d;){let u=c.shift();if(!u){l===0&&a.end();return}l++,h.add(u);let m=(g,w,S=!1)=>{if(g)return a.emit("error",g);if(n&&!S){let y=[];for(let E of w)E.isSymbolicLink()&&y.push(E.realpath().then(k=>k?.isUnknown()?k.lstat():k));if(y.length){Promise.all(y).then(()=>m(null,w,!0));return}}for(let y of w)y&&(!r||r(y))&&(a.write(s?y:y.fullpath())||(d=!0));l--;for(let y of w){let E=y.realpathCached()||y;E.shouldWalk(h,o)&&c.push(E)}d&&!a.flowing?a.once("drain",f):p||f()},p=!0;u.readdirCB(m,!0),p=!1}};return f(),a}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof L||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:n=!1,filter:r,walkFilter:o}=e,a=new Xn.Minipass({objectMode:!0}),h=new Set;(!r||r(t))&&a.write(s?t:t.fullpath());let c=[t],l=0,f=()=>{let d=!1;for(;!d;){let u=c.shift();if(!u){l===0&&a.end();return}l++,h.add(u);let m=u.readdirSync();for(let p of m)(!r||r(p))&&(a.write(s?p:p.fullpath())||(d=!0));l--;for(let p of m){let g=p;if(p.isSymbolicLink()){if(!(n&&(g=p.realpathSync())))continue;g.isUnknown()&&g.lstatSync()}g.shouldWalk(h,o)&&c.push(g)}}d&&!a.flowing&&a.once("drain",f)};return f(),a}chdir(t=this.cwd){let e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[lr](e)}};T.PathScurryBase=Mt;var Dt=class extends Mt{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:s=!0}=e;super(t,be.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let n=this.cwd;n;n=n.parent)n.nocase=this.nocase}parseRootPath(t){return be.win32.parse(t).root.toUpperCase()}newRoot(t){return new Rt(this.rootPath,X,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}};T.PathScurryWin32=Dt;var Ft=class extends Mt{sep="/";constructor(t=process.cwd(),e={}){let{nocase:s=!1}=e;super(t,be.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Nt(this.rootPath,X,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}};T.PathScurryPosix=Ft;var Ee=class extends Ft{constructor(t=process.cwd(),e={}){let{nocase:s=!0}=e;super(t,{...e,nocase:s})}};T.PathScurryDarwin=Ee;T.Path=process.platform==="win32"?Rt:Nt;T.PathScurry=process.platform==="win32"?Dt:process.platform==="darwin"?Ee:Ft});var xs=v(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.Pattern=void 0;var Ih=et(),Bh=i=>i.length>=1,qh=i=>i.length>=1,Os=class i{#t;#e;#s;length;#i;#o;#S;#c;#f;#a;#h=!0;constructor(t,e,s,n){if(!Bh(t))throw new TypeError("empty pattern list");if(!qh(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#e=e,this.#s=s,this.#i=n,this.#s===0){if(this.isUNC()){let[r,o,a,h,...c]=this.#t,[l,f,d,u,...m]=this.#e;c[0]===""&&(c.shift(),m.shift());let p=[r,o,a,h,""].join("/"),g=[l,f,d,u,""].join("/");this.#t=[p,...c],this.#e=[g,...m],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){let[r,...o]=this.#t,[a,...h]=this.#e;o[0]===""&&(o.shift(),h.shift());let c=r+"/",l=a+"/";this.#t=[c,...o],this.#e=[l,...h],this.length=this.#t.length}}}pattern(){return this.#t[this.#s]}isString(){return typeof this.#t[this.#s]=="string"}isGlobstar(){return this.#t[this.#s]===Ih.GLOBSTAR}isRegExp(){return this.#t[this.#s]instanceof RegExp}globString(){return this.#S=this.#S||(this.#s===0?this.isAbsolute()?this.#e[0]+this.#e.slice(1).join("/"):this.#e.join("/"):this.#e.slice(this.#s).join("/"))}hasMore(){return this.length>this.#s+1}rest(){return this.#o!==void 0?this.#o:this.hasMore()?(this.#o=new i(this.#t,this.#e,this.#s+1,this.#i),this.#o.#a=this.#a,this.#o.#f=this.#f,this.#o.#c=this.#c,this.#o):this.#o=null}isUNC(){let t=this.#t;return this.#f!==void 0?this.#f:this.#f=this.#i==="win32"&&this.#s===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){let t=this.#t;return this.#c!==void 0?this.#c:this.#c=this.#i==="win32"&&this.#s===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#t;return this.#a!==void 0?this.#a:this.#a=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#t[0];return typeof t=="string"&&this.isAbsolute()&&this.#s===0?t:""}checkFollowGlobstar(){return!(this.#s===0||!this.isGlobstar()||!this.#h)}markFollowGlobstar(){return this.#s===0||!this.isGlobstar()||!this.#h?!1:(this.#h=!1,!0)}};ve.Pattern=Os});var ks=v(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.Ignore=void 0;var ur=et(),Gh=xs(),Uh=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",As=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(t,{nobrace:e,nocase:s,noext:n,noglobstar:r,platform:o=Uh}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:e,nocase:s,noext:n,noglobstar:r,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of t)this.add(a)}add(t){let e=new ur.Minimatch(t,this.mmopts);for(let s=0;s<e.set.length;s++){let n=e.set[s],r=e.globParts[s];if(!n||!r)throw new Error("invalid pattern object");for(;n[0]==="."&&r[0]===".";)n.shift(),r.shift();let o=new Gh.Pattern(n,r,0,this.platform),a=new ur.Minimatch(o.globString(),this.mmopts),h=r[r.length-1]==="**",c=o.isAbsolute();c?this.absolute.push(a):this.relative.push(a),h&&(c?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(t){let e=t.fullpath(),s=`${e}/`,n=t.relative()||".",r=`${n}/`;for(let o of this.relative)if(o.match(n)||o.match(r))return!0;for(let o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(let n of this.relativeChildren)if(n.match(s))return!0;for(let n of this.absoluteChildren)if(n.match(e))return!0;return!1}};_e.Ignore=As});var pr=v(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.Processor=Z.SubWalks=Z.MatchRecord=Z.HasWalkedCache=void 0;var dr=et(),Oe=class i{store;constructor(t=new Map){this.store=t}copy(){return new i(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){let s=t.fullpath(),n=this.store.get(s);n?n.add(e.globString()):this.store.set(s,new Set([e.globString()]))}};Z.HasWalkedCache=Oe;var xe=class{store=new Map;add(t,e,s){let n=(e?2:0)|(s?1:0),r=this.store.get(t);this.store.set(t,r===void 0?n:n&r)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}};Z.MatchRecord=xe;var Ae=class{store=new Map;add(t,e){if(!t.canReaddir())return;let s=this.store.get(t);s?s.find(n=>n.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}};Z.SubWalks=Ae;var Ts=class i{hasWalkedCache;matches=new xe;subwalks=new Ae;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Oe}processPatterns(t,e){this.patterns=e;let s=e.map(n=>[t,n]);for(let[n,r]of s){this.hasWalkedCache.storeWalked(n,r);let o=r.root(),a=r.isAbsolute()&&this.opts.absolute!==!1;if(o){n=n.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let f=r.rest();if(f)r=f;else{this.matches.add(n,!0,!1);continue}}if(n.isENOENT())continue;let h,c,l=!1;for(;typeof(h=r.pattern())=="string"&&(c=r.rest());)n=n.resolve(h),r=c,l=!0;if(h=r.pattern(),c=r.rest(),l){if(this.hasWalkedCache.hasWalked(n,r))continue;this.hasWalkedCache.storeWalked(n,r)}if(typeof h=="string"){let f=h===".."||h===""||h===".";this.matches.add(n.resolve(h),a,f);continue}else if(h===dr.GLOBSTAR){(!n.isSymbolicLink()||this.follow||r.checkFollowGlobstar())&&this.subwalks.add(n,r);let f=c?.pattern(),d=c?.rest();if(!c||(f===""||f===".")&&!d)this.matches.add(n,a,f===""||f===".");else if(f===".."){let u=n.parent||n;d?this.hasWalkedCache.hasWalked(u,d)||this.subwalks.add(u,d):this.matches.add(u,a,!0)}}else h instanceof RegExp&&this.subwalks.add(n,r)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new i(this.opts,this.hasWalkedCache)}filterEntries(t,e){let s=this.subwalks.get(t),n=this.child();for(let r of e)for(let o of s){let a=o.isAbsolute(),h=o.pattern(),c=o.rest();h===dr.GLOBSTAR?n.testGlobstar(r,o,c,a):h instanceof RegExp?n.testRegExp(r,h,c,a):n.testString(r,h,c,a)}return n}testGlobstar(t,e,s,n){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,n,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){let r=s.pattern();if(typeof r=="string"&&r!==".."&&r!==""&&r!==".")this.testString(t,r,s.rest(),n);else if(r===".."){let o=t.parent||t;this.subwalks.add(o,s)}else r instanceof RegExp&&this.testRegExp(t,r,s.rest(),n)}}testRegExp(t,e,s,n){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}testString(t,e,s,n){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,n,!1))}};Z.Processor=Ts});var wr=v(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.GlobStream=ot.GlobWalker=ot.GlobUtil=void 0;var zh=Es(),gr=ks(),mr=pr(),Hh=(i,t)=>typeof i=="string"?new gr.Ignore([i],t):Array.isArray(i)?new gr.Ignore(i,t):i,Lt=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#t=[];#e;#s;signal;maxDepth;includeChildMatches;constructor(t,e,s){if(this.patterns=t,this.path=e,this.opts=s,this.#s=!s.posix&&s.platform==="win32"?"\\":"/",this.includeChildMatches=s.includeChildMatches!==!1,(s.ignore||!this.includeChildMatches)&&(this.#e=Hh(s.ignore??[],s),!this.includeChildMatches&&typeof this.#e.add!="function")){let n="cannot ignore child matches, ignore lacks add() method.";throw new Error(n)}this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#t.length=0}))}#i(t){return this.seen.has(t)||!!this.#e?.ignored?.(t)}#o(t){return!!this.#e?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#t.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#t.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}let r=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&r?.isSymbolicLink()){let o=await r.realpath();o&&(o.isUnknown()||this.opts.stat)&&await o.lstat()}return this.matchCheckTest(r,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!t.isSymbolicLink()||!t.realpathCached()?.isDirectory())&&!this.#i(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}let r=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&r?.isSymbolicLink()){let o=r.realpathSync();o&&(o?.isUnknown()||this.opts.stat)&&o.lstatSync()}return this.matchCheckTest(r,e)}matchFinish(t,e){if(this.#i(t))return;if(!this.includeChildMatches&&this.#e?.add){let r=`${t.relativePosix()}/**`;this.#e.add(r)}let s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);let n=this.opts.mark&&t.isDirectory()?this.#s:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){let r=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(r+n)}else{let r=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!r.startsWith(".."+this.#s)?"."+this.#s:"";this.matchEmit(r?o+r+n:"."+n)}}async match(t,e,s){let n=await this.matchCheck(t,s);n&&this.matchFinish(n,e)}matchSync(t,e,s){let n=this.matchCheckSync(t,s);n&&this.matchFinish(n,e)}walkCB(t,e,s){this.signal?.aborted&&s(),this.walkCB2(t,e,new mr.Processor(this.opts),s)}walkCB2(t,e,s,n){if(this.#o(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,n));return}s.processPatterns(t,e);let r=1,o=()=>{--r===0&&n()};for(let[a,h,c]of s.matches.entries())this.#i(a)||(r++,this.match(a,h,c).then(()=>o()));for(let a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;let h=a.readdirCached();a.calledReaddir()?this.walkCB3(a,h,s,o):a.readdirCB((c,l)=>this.walkCB3(a,l,s,o),!0)}o()}walkCB3(t,e,s,n){s=s.filterEntries(t,e);let r=1,o=()=>{--r===0&&n()};for(let[a,h,c]of s.matches.entries())this.#i(a)||(r++,this.match(a,h,c).then(()=>o()));for(let[a,h]of s.subwalks.entries())r++,this.walkCB2(a,h,s.child(),o);o()}walkCBSync(t,e,s){this.signal?.aborted&&s(),this.walkCB2Sync(t,e,new mr.Processor(this.opts),s)}walkCB2Sync(t,e,s,n){if(this.#o(t))return n();if(this.signal?.aborted&&n(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,n));return}s.processPatterns(t,e);let r=1,o=()=>{--r===0&&n()};for(let[a,h,c]of s.matches.entries())this.#i(a)||this.matchSync(a,h,c);for(let a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;r++;let h=a.readdirSync();this.walkCB3Sync(a,h,s,o)}o()}walkCB3Sync(t,e,s,n){s=s.filterEntries(t,e);let r=1,o=()=>{--r===0&&n()};for(let[a,h,c]of s.matches.entries())this.#i(a)||this.matchSync(a,h,c);for(let[a,h]of s.subwalks.entries())r++,this.walkCB2Sync(a,h,s.child(),o);o()}};ot.GlobUtil=Lt;var Ps=class extends Lt{matches=new Set;constructor(t,e,s){super(t,e,s)}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((t,e)=>{this.walkCB(this.path,this.patterns,()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};ot.GlobWalker=Ps;var Cs=class extends Lt{results;constructor(t,e,s){super(t,e,s),this.results=new zh.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};ot.GlobStream=Cs});var Rs=v(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.Glob=void 0;var Kh=et(),Vh=A("url"),ke=fr(),Jh=xs(),Te=wr(),Yh=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",js=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Vh.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.includeChildMatches=e.includeChildMatches!==!1,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(h=>h.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(h=>h.includes("/")?h:`./**/${h}`)}if(this.pattern=t,this.platform=e.platform||Yh,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let h=e.platform==="win32"?ke.PathScurryWin32:e.platform==="darwin"?ke.PathScurryDarwin:e.platform?ke.PathScurryPosix:ke.PathScurry;this.scurry=new h(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let s=this.platform==="darwin"||this.platform==="win32",n={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map(h=>new Kh.Minimatch(h,n)),[o,a]=r.reduce((h,c)=>(h[0].push(...c.set),h[1].push(...c.globParts),h),[[],[]]);this.patterns=o.map((h,c)=>{let l=a[c];if(!l)throw new Error("invalid pattern object");return new Jh.Pattern(h,l,0,this.platform)})}async walk(){return[...await new Te.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new Te.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new Te.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new Te.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};Pe.Glob=js});var Ns=v(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.hasMagic=void 0;var Xh=et(),Zh=(i,t={})=>{Array.isArray(i)||(i=[i]);for(let e of i)if(new Xh.Minimatch(e,t).hasMagic())return!0;return!1};Ce.hasMagic=Zh});var Er=v(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.glob=x.sync=x.iterate=x.iterateSync=x.stream=x.streamSync=x.Ignore=x.hasMagic=x.Glob=x.unescape=x.escape=void 0;x.globStreamSync=$t;x.globStream=Ms;x.globSync=Ds;x.globIterateSync=Wt;x.globIterate=Fs;var yr=et(),ft=Rs(),Qh=Ns(),Sr=et();Object.defineProperty(x,"escape",{enumerable:!0,get:function(){return Sr.escape}});Object.defineProperty(x,"unescape",{enumerable:!0,get:function(){return Sr.unescape}});var tc=Rs();Object.defineProperty(x,"Glob",{enumerable:!0,get:function(){return tc.Glob}});var ec=Ns();Object.defineProperty(x,"hasMagic",{enumerable:!0,get:function(){return ec.hasMagic}});var sc=ks();Object.defineProperty(x,"Ignore",{enumerable:!0,get:function(){return sc.Ignore}});function $t(i,t={}){return new ft.Glob(i,t).streamSync()}function Ms(i,t={}){return new ft.Glob(i,t).stream()}function Ds(i,t={}){return new ft.Glob(i,t).walkSync()}async function br(i,t={}){return new ft.Glob(i,t).walk()}function Wt(i,t={}){return new ft.Glob(i,t).iterateSync()}function Fs(i,t={}){return new ft.Glob(i,t).iterate()}x.streamSync=$t;x.stream=Object.assign(Ms,{sync:$t});x.iterateSync=Wt;x.iterate=Object.assign(Fs,{sync:Wt});x.sync=Object.assign(Ds,{stream:$t,iterate:Wt});x.glob=Object.assign(br,{glob:br,globSync:Ds,sync:x.sync,globStream:Ms,stream:x.stream,globStreamSync:$t,streamSync:x.streamSync,globIterate:Fs,iterate:x.iterate,globIterateSync:Wt,iterateSync:x.iterateSync,Glob:ft.Glob,hasMagic:Qh.hasMagic,escape:yr.escape,unescape:yr.unescape});x.glob.glob=x.glob});var kr=v((Wl,Ar)=>{var vr=A("path"),ic=gn(),{minimatch:It}=et(),nc=ns(),{glob:rc}=Er();function oc(i){let t=[],e=[];for(let s of i){let n=s.match(/^!+/);if(n&&(s=s.slice(n[0].length)),s=s.replace(/^\.?\/+/,""),n&&n[0].length%2===1)e.push(s);else{for(let o=0;o<e.length;++o){let a=e[o];It(s,a)&&e.splice(o,1)}t.push(s)}}for(let s of e)for(let n of It.match(t,s))t.splice(t.indexOf(n),1);return{patterns:t,negatedPatterns:e}}function _r(i){let t=Array.isArray(i.packages)?i.packages:i;if(!Array.isArray(t))throw je({message:"workspaces config expects an Array",code:"EWORKSPACESCONFIG"});return oc(t)}function Or(i,t){return i.name||ic(t)}function ac(i){return i=i.replace(/\\/g,"/"),i.endsWith("/")?i:`${i}/`}function je({Type:i=TypeError,message:t,code:e}){return Object.assign(new i(t),{code:e})}function hc(i){return new Map(Array.from(i,t=>t.reverse()))}async function xr(i={}){if(!i||!i.pkg)throw je({message:"mapWorkspaces missing pkg info",code:"EMAPWORKSPACESPKG"});i.cwd||(i.cwd=process.cwd());let{workspaces:t=[]}=i.pkg,{patterns:e,negatedPatterns:s}=_r(t),n=new Map;if(!e.length&&!s.length)return n;let r=new Map,o=()=>({...i,ignore:[...i.ignore||[],"**/node_modules/**",...s]}),a=await rc(e.map(l=>ac(l)),o());a=a.sort((l,f)=>l.localeCompare(f,"en"));let h=[];for(let l of e)h.push(...a.filter(f=>It(f,l,{partial:!0,windowsPathsNoEscape:!0})));for(let l of h){let f;try{f=await nc.normalize(vr.join(i.cwd,l))}catch(m){if(m.code==="ENOENT"||m.code==="ENOTDIR")continue;throw m}let d=Or(f.content,f.path),u=r.get(d);u||(u=new Set,r.set(d,u)),u.add(f.path)}let c=["must not have multiple workspaces with the same name"];for(let[l,f]of r)f.size>1?cc(c,l,f):n.set(l,f.values().next().value);if(c.length>1)throw je({Type:Error,message:c.join(`
`),code:"EDUPLICATEWORKSPACE"});return n}function cc(i,t,e){i.push(`package '${t}' has conflicts in the following paths:`);for(let s of e)i.push("    "+s)}xr.virtual=function(i={}){if(!i||!i.lockfile)throw je({message:"mapWorkspaces.virtual missing lockfile info",code:"EMAPWORKSPACESLOCKFILE"});i.cwd||(i.cwd=process.cwd());let{packages:t={}}=i.lockfile,{workspaces:e=[]}=t[""]||{},s=new Map,{patterns:n,negatedPatterns:r}=_r(e);if(!n.length&&!r.length)return s;r.push("**/node_modules/**");let o=Object.keys(t);for(let a of r)for(let h of It.match(o,a))o.splice(o.indexOf(h),1);for(let a of n)for(let h of It.match(o,a)){let c=vr.join(i.cwd,h),l=Or(t[h],c);s.set(c,l)}return hc(s)};Ar.exports=xr});var Rr=v((Il,jr)=>{var{walkUp:lc}=hi(),fc=di(),Ls=Ke(),{log:wt}=ji(),{resolve:Bt,dirname:$s,join:Tr}=A("path"),{homedir:uc}=A("os"),{readFile:dc,stat:Cr}=A("fs/promises"),Ws=(...i)=>Cr(Bt(...i)).then(t=>t.isFile()).catch(()=>!1),pc=(...i)=>Cr(Bt(...i)).then(t=>t.isDirectory()).catch(()=>!1),Is=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),gc=Je(),Pr=Mi(),mc=Ye(),wc=$i(),{definitions:yc}=Gi(),bc=new Set(["global","user","project"]),Bs=new Set(["default","builtin",...bc,"env"]),Sc="env",qs=class{#t=!1;constructor({npmPath:t,env:e=process.env,platform:s=process.platform,execPath:n=process.execPath,cwd:r=process.cwd()}){let o={},a={};for(let[l,f]of Object.entries(yc))a[l]=f.default,o[l]=f.type;this.types=o,this.defaults=a,this.npmPath=t,this.env=e,this.execPath=n,this.platform=s,this.cwd=r,this.globalPrefix=null,this.localPrefix=null,this.localPackage=null,this.home=null;let h=[...Bs];this.data=new Map;let c=null;for(let l of h)this.data.set(l,c=new Gs(c));this.data.set=()=>{throw new Error("cannot change internal config data structure")},this.data.delete=()=>{throw new Error("cannot change internal config data structure")},this.sources=new Map([]),this.list=[];for(let{data:l}of this.data.values())this.list.unshift(l);Object.freeze(this.list),this.#t=!1}get loaded(){return this.#t}get prefix(){return this.#e("global")?this.globalPrefix:this.localPrefix}get(t,e){if(!this.loaded)throw new Error("call config.load() before reading values");return this.#e(t,e)}#e(t,e=null){if(e!==null&&!Bs.has(e))throw new Error("invalid config location param: "+e);let{data:s}=this.data.get(e||Sc);return e===null||Is(s,t)?s[t]:void 0}async load(){if(this.loaded)throw new Error("attempting to load npm config multiple times");this.loadDefaults(),await this.loadBuiltinConfig(),this.loadEnv(),await this.loadProjectConfig(),await this.loadUserConfig(),await this.loadGlobalConfig(),this.#t=!0,this.globalPrefix=this.get("prefix")}loadDefaults(){this.loadGlobalPrefix(),this.loadHome();let t={...this.defaults,prefix:this.globalPrefix};try{t["npm-version"]=A(Tr(this.npmPath,"package.json")).version}catch{}this.#s(t,"default","default values");let{data:e}=this.data.get("default");Object.defineProperty(e,"globalconfig",{get:()=>Bt(this.#e("prefix"),"etc/npmrc"),set(s){Object.defineProperty(e,"globalconfig",{value:s,configurable:!0,writable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}loadHome(){this.home=this.env.HOME||uc()}loadGlobalPrefix(){if(this.globalPrefix)throw new Error("cannot load default global prefix more than once");this.env.PREFIX?this.globalPrefix=this.env.PREFIX:this.platform==="win32"?this.globalPrefix=$s(this.execPath):(this.globalPrefix=$s($s(this.execPath)),this.env.DESTDIR&&(this.globalPrefix=Tr(this.env.DESTDIR,this.globalPrefix)))}loadEnv(){let t=Object.create(null);for(let[e,s]of Object.entries(this.env)){if(!/^npm_config_/i.test(e)||s==="")continue;let n=e.slice(11);n.startsWith("//")||(n=n.replace(/(?!^)_/g,"-").toLowerCase()),t[n]=s}this.#s(t,"env","environment")}get valid(){for(let[t,{valid:e}]of this.data.entries())if(e===!1||e===null&&!this.validate(t))return!1;return!0}validate(t){if(t){let e=this.data.get(t);return e[qt]=!0,Ls.invalidHandler=(s,n,r)=>this.invalidHandler(s,n,r,e.source,t),Ls.clean(e.data,this.types,gc),Ls.invalidHandler=null,e[qt]}else{let e=!0,s=[];for(let n of this.data.keys()){if(n==="default"||n==="builtin")continue;let r=this.validate(n);if(e=e&&r,["global","user","project"].includes(n)){for(let a of["_authtoken","-authtoken"])this.get(a,n)&&s.push({action:"delete",key:a,where:n});let o=Pr(this.get("registry"));for(let a of["_auth","_authToken","username","_password"])this.get(a,n)&&(a==="username"&&!this.get("_password",n)?s.push({action:"delete",key:a,where:n}):a==="_password"&&!this.get("username",n)?s.push({action:"delete",key:a,where:n}):s.push({action:"rename",from:a,to:`${o}:${a}`,where:n}))}}if(s.length){let{ErrInvalidAuth:n}=zi();throw new n(s)}return e}}isDefault(t){let[e,...s]=[...Bs],n=this.data.get(e).data;return Is(n,t)&&s.every(r=>{let o=this.data.get(r).data;return!Is(o,t)})}invalidHandler(t,e,s,n,r){wt.warn("invalid config",t+"="+JSON.stringify(e),`set in ${n}`),this.data.get(r)[qt]=!1}#s(t,e,s,n=null){let r=this.data.get(e);if(r.source){let o=`double-loading "${e}" configs from ${s}, previously loaded from ${r.source}`;throw new Error(o)}if(this.sources.has(s)){let o=`double-loading config "${s}" as "${e}", previously loaded as "${this.sources.get(s)}"`;throw new Error(o)}if(r.source=s,this.sources.set(s,e),n)r.loadError=n,n.code!=="ENOENT"&&wt.verbose("config",`error loading ${e} config`,n);else{r.raw=t;for(let[o,a]of Object.entries(t)){let h=mc(o,this.env),c=this.parseField(a,h);r.data[h]=c}}}parseField(t,e,s=!1){return wc(t,e,this,s)}async#i(t,e){wt.silly("config",`load:file:${t}`),await dc(t,"utf8").then(s=>{let n=fc.parse(s);return e==="project"&&n.prefix&&wt.error("config",`prefix cannot be changed from project config: ${t}.`),this.#s(n,e,t)},s=>this.#s(null,e,t,s))}loadBuiltinConfig(){return this.#i(Bt(this.npmPath,"npmrc"),"builtin")}async loadProjectConfig(){if(await this.loadLocalPrefix(),this.localPackage==null&&(this.localPackage=await Ws(this.localPrefix,"package.json")),this.#e("global")===!0||this.#e("location")==="global"){this.data.get("project").source="(global mode enabled, ignored)",this.sources.set(this.data.get("project").source,"project");return}let t=Bt(this.localPrefix,".npmrc");if(t!==this.#e("userconfig"))return this.#i(t,"project");this.data.get("project").source='(same as "user" config, ignored)',this.sources.set(this.data.get("project").source,"project")}async loadLocalPrefix(){let t=this.#e("global")||this.#e("location")==="global";for(let e of lc(this.cwd)){let s=await Ws(e,"package.json");if(!this.localPrefix&&(s||await pc(e,"node_modules"))){if(this.localPrefix=e,this.localPackage=s,t)return;continue}if(this.localPrefix&&s){let n=ns(),{content:r}=await n.normalize(e).catch(()=>({content:{}}));if(!r?.workspaces)continue;let a=await kr()({cwd:e,pkg:r});for(let h of a.values())if(h===this.localPrefix){await Ws(this.localPrefix,".npmrc")&&wt.warn("config",`ignoring workspace config at ${this.localPrefix}/.npmrc`),this.localPrefix=e,this.localPackage=s,wt.info("config",`found workspace root at ${this.localPrefix}`);return}}}this.localPrefix||(this.localPrefix=this.cwd)}loadUserConfig(){return this.#i(this.#e("userconfig"),"user")}loadGlobalConfig(){return this.#i(this.#e("globalconfig"),"global")}getCredentialsByURI(t){let e=Pr(t),s={},n=this.get(`${e}:certfile`),r=this.get(`${e}:keyfile`);n&&r&&(s.certfile=n,s.keyfile=r);let o=this.get(`${e}:_authToken`);if(o)return s.token=o,s;let a=this.get(`${e}:username`),h=this.get(`${e}:_password`);if(a&&h){s.username=a,s.password=Buffer.from(h,"base64").toString("utf8");let l=`${s.username}:${s.password}`;return s.auth=Buffer.from(l,"utf8").toString("base64"),s}let c=this.get(`${e}:_auth`);if(c){let f=Buffer.from(c,"base64").toString("utf8").split(":");return s.username=f.shift(),s.password=f.join(":"),s.auth=c,s}return s}},Re=Symbol("loadError"),qt=Symbol("valid"),Gs=class{#t;#e=null;#s={};constructor(t){this.#t=Object.create(t&&t.data),this[qt]=!0}get data(){return this.#t}get valid(){return this[qt]}set source(t){if(this.#e)throw new Error("cannot set ConfigData source more than once");this.#e=t}get source(){return this.#e}set loadError(t){if(this[Re]||Object.keys(this.#s).length)throw new Error("cannot set ConfigData loadError after load");this[Re]=t}get loadError(){return this[Re]}set raw(t){if(Object.keys(this.#s).length||this[Re])throw new Error("cannot set ConfigData raw after load");this.#s=t}get raw(){return this.#s}};jr.exports=qs});var Mr=v(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.sync=yt.isexe=void 0;var Ec=A("fs"),vc=A("fs/promises"),_c=async(i,t={})=>{let{ignoreErrors:e=!1}=t;try{return Nr(await(0,vc.stat)(i),t)}catch(s){let n=s;if(e||n.code==="EACCES")return!1;throw n}};yt.isexe=_c;var Oc=(i,t={})=>{let{ignoreErrors:e=!1}=t;try{return Nr((0,Ec.statSync)(i),t)}catch(s){let n=s;if(e||n.code==="EACCES")return!1;throw n}};yt.sync=Oc;var Nr=(i,t)=>i.isFile()&&xc(i,t),xc=(i,t)=>{let e=t.uid??process.getuid?.(),s=t.groups??process.getgroups?.()??[],n=t.gid??process.getgid?.()??s[0];if(e===void 0||n===void 0)throw new Error("cannot get uid or gid");let r=new Set([n,...s]),o=i.mode,a=i.uid,h=i.gid,c=parseInt("100",8),l=parseInt("010",8),f=parseInt("001",8),d=c|l;return!!(o&f||o&l&&r.has(h)||o&c&&a===e||o&d&&e===0)}});var Fr=v(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.sync=bt.isexe=void 0;var Ac=A("fs"),kc=A("fs/promises"),Tc=async(i,t={})=>{let{ignoreErrors:e=!1}=t;try{return Dr(await(0,kc.stat)(i),i,t)}catch(s){let n=s;if(e||n.code==="EACCES")return!1;throw n}};bt.isexe=Tc;var Pc=(i,t={})=>{let{ignoreErrors:e=!1}=t;try{return Dr((0,Ac.statSync)(i),i,t)}catch(s){let n=s;if(e||n.code==="EACCES")return!1;throw n}};bt.sync=Pc;var Cc=(i,t)=>{let{pathExt:e=process.env.PATHEXT||""}=t,s=e.split(";");if(s.indexOf("")!==-1)return!0;for(let n=0;n<s.length;n++){let r=s[n].toLowerCase(),o=i.substring(i.length-r.length).toLowerCase();if(r&&o===r)return!0}return!1},Dr=(i,t,e)=>i.isFile()&&Cc(t,e)});var $r=v(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0})});var Ur=v(N=>{"use strict";var Wr=N&&N.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,n)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),jc=N&&N.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Ir=N&&N.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&Wr(t,i,e);return jc(t,i),t},Rc=N&&N.__exportStar||function(i,t){for(var e in i)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&Wr(t,i,e)};Object.defineProperty(N,"__esModule",{value:!0});N.sync=N.isexe=N.posix=N.win32=void 0;var Br=Ir(Mr());N.posix=Br;var qr=Ir(Fr());N.win32=qr;Rc($r(),N);var Nc=process.env._ISEXE_TEST_PLATFORM_||process.platform,Gr=Nc==="win32"?qr:Br;N.isexe=Gr.isexe;N.sync=Gr.sync});var to=v((Hl,Qr)=>{var{isexe:Mc,sync:Dc}=Ur(),{join:Fc,delimiter:Lc,sep:zr,posix:Hr}=A("path"),Kr=process.platform==="win32",Vr=new RegExp(`[${Hr.sep}${zr===Hr.sep?"":zr}]`.replace(/(\\)/g,"\\$1")),$c=new RegExp(`^\\.${Vr.source}`),Jr=i=>Object.assign(new Error(`not found: ${i}`),{code:"ENOENT"}),Yr=(i,{path:t=process.env.PATH,pathExt:e=process.env.PATHEXT,delimiter:s=Lc})=>{let n=i.match(Vr)?[""]:[...Kr?[process.cwd()]:[],...(t||"").split(s)];if(Kr){let r=e||[".EXE",".CMD",".BAT",".COM"].join(s),o=r.split(s).flatMap(a=>[a,a.toLowerCase()]);return i.includes(".")&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:r}}return{pathEnv:n,pathExt:[""]}},Xr=(i,t)=>{let e=/^".*"$/.test(i)?i.slice(1,-1):i;return(!e&&$c.test(t)?t.slice(0,2):"")+Fc(e,t)},Zr=async(i,t={})=>{let{pathEnv:e,pathExt:s,pathExtExe:n}=Yr(i,t),r=[];for(let o of e){let a=Xr(o,i);for(let h of s){let c=a+h;if(await Mc(c,{pathExt:n,ignoreErrors:!0})){if(!t.all)return c;r.push(c)}}}if(t.all&&r.length)return r;if(t.nothrow)return null;throw Jr(i)},Wc=(i,t={})=>{let{pathEnv:e,pathExt:s,pathExtExe:n}=Yr(i,t),r=[];for(let o of e){let a=Xr(o,i);for(let h of s){let c=a+h;if(Dc(c,{pathExt:n,ignoreErrors:!0})){if(!t.all)return c;r.push(c)}}}if(t.all&&r.length)return r;if(t.nothrow)return null;throw Jr(i)};Qr.exports=Zr;Zr.sync=Wc});var Ne,Us=Le(()=>{"use strict";Ne="yarn-plugin-npmrc"});var eo={};$e(eo,{throwError:()=>De});function De(i){throw new Me.ReportError(Me.MessageName.UNNAMED,`[${Ne}] ${i.message||i}`)}var Me,zs=Le(()=>{"use strict";Me=A("@yarnpkg/core");Us()});var ro={};$e(ro,{loadNpmrc:()=>Ic});async function Ic(){let i="";try{i=io.default.realpathSync(no.default.sync("npm"))}catch{De(`Couldn't find "npm" executable to help read the config`)}let t=["silly","verbose","info","http","timing","notice","warn","error"],e=t.indexOf(process.env.NPM_CONFIG_LOGLEVEL||process.env.npm_config_loglevel||"warn"),s=(n,...r)=>{t.indexOf(n)<e||console[n==="error"?"error":n==="warn"?"warn":"log"](`[${Ne}][${n}]`,...r)};process.on("log",s);try{let n=new so.default({npmPath:i});return await n.load(),n.validate(),n}catch(n){De(n)}finally{process.off("log",s)}}var so,io,no,oo=Le(()=>{"use strict";so=We(Rr()),io=We(A("fs")),no=We(to());Us();zs()});var Hc={};$e(Hc,{default:()=>zc});var ao=A("@yarnpkg/core"),Bc={npmrcAuthEnabled:{description:"Attempt to read auth info from .npmrc for all registry requests",type:ao.SettingsType.BOOLEAN,default:!1}},qc="npmrcAuthEnabled",Hs,Fe,Ks={},Gc=async(i,t,{configuration:e})=>{if(!e.get(qc))return i;if(t in Ks)return Ks[t];if(Fe)throw Fe;if(!Hs){let{loadNpmrc:r}=await Promise.resolve().then(()=>(oo(),ro));try{Hs=await r()}catch(o){throw Fe=o,Fe}}let s=Hs.getCredentialsByURI(t);if(s.certfile||s.keyfile){let{throwError:r}=await Promise.resolve().then(()=>(zs(),eo));r(`This plugin does not support certfile or keyfile auth (for registry "${t}")`)}let n;return"token"in s?n=`Bearer ${s.token}`:"auth"in s?n=`Basic ${s.auth}`:n=i,Ks[t]=n,n},Uc={hooks:{getNpmAuthenticationHeader:Gc},configuration:Bc},zc=Uc;return go(Hc);})();
return plugin;
}
};
